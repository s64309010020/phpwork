if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MSuggestionPopup.react",["cx","ix","DOM","Image.react","MessengerBusinessSuggestedReplyClickFalcoEvent","MessengerBusinessSuggestedReplyDismissFalcoEvent","MessengerBusinessSuggestedReplyImpressionFalcoEvent","ServicesUIText.react","ShimButton.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=120,l=60,m="#threadViewMain",n=".async_composer",o="composerInput";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.initialState={threadViewPadding:l,displayPopup:!1},c.state=c.initialState,b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(){var a=this;this.setState(this.initialState);var b=this.props.suggestedReplyType;b!=null&&c("MessengerBusinessSuggestedReplyDismissFalcoEvent").log(function(){return{page_id:a.props.pageID,event_data:{type:b},event_location:"msite_thread"}})};e.onClickSendMessage=function(a,b){var e=this;a&&a.preventDefault();a=document.querySelector(n);var f=document.getElementById(o);if(a&&f){a=d("DOM").find(a,"form");f=d("DOM").find(f.parentNode,"textarea");b!==null&&b!==""&&(f.value=b,a.dispatchEvent(new Event("submit")),a.reset())}this.setState(this.initialState);var g=this.props.suggestedReplyType;this.props.suggestedReply!=null&&g!=null&&c("MessengerBusinessSuggestedReplyClickFalcoEvent").log(function(){return{page_id:e.props.pageID,event_data:{type:g},event_location:"msite_thread"}})};e.componentDidMount=function(){var a=this.props.suggestedReplyType;this.props.suggestedReply!==null&&a!=null&&this.setState({threadViewPadding:k,displayPopup:!0})};e.render=function(){var a=this,b=this.props,d=b.suggestedReply,e=b.suggestedReplyType;b=this.state.threadViewPadding;var f=document.querySelector(m);f&&(f.style.paddingBottom=b+"px");if(d!==null&&e!=null){c("MessengerBusinessSuggestedReplyImpressionFalcoEvent").log(function(){return{page_id:a.props.pageID,event_data:{type:e},event_location:"msite_thread"}});return j.jsx("div",{id:"suggestion-popup",className:this.state.displayPopup?"xw5ewwj x14atkfc x2b8uid x1ja2u2z x106mfvv xixxii4 x14vqqas x1db2dqx x1iog12x x1e56ztr x1r5z4y5 x1pc53ja xtf3nb5 x1ccrb07 xyi19xy x121cc7u xoqxg3q x1b4kua1 xjj2he7 x12peec7":"x1s85apg xlshs6z",children:j.jsxs("div",{className:"x4ii5y1 xr1yuqi xl56j7k x78zum5",children:[j.jsx("div",{className:"_2pis _2pid _2pin",children:j.jsx(c("ShimButton.react"),{id:"suggestion-text",className:"x1a2a7pz",onClick:function(b){return a.onClickSendMessage(b,d)},children:j.jsx(c("ServicesUIText.react"),{display:"block",shade:"dark",children:d})})}),j.jsx("button",{"data-testid":void 0,className:"_7w1u",style:{outline:"none"},onClick:function(){return a.$1()},children:j.jsx(c("Image.react"),{src:i("623442")})})]})})}else return null};return b}(j.Component);g["default"]=a}),98);