if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PrivacyConst",[],(function(a,b,c,d,e,f){e.exports={BaseValue:{FRIENDS_ON_CAMPUS:210,FRIENDS_AND_MUTUAL_GAME_PLAYERS:200,FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,FACEBOOK_EMPLOYEE_DOGFOODING:113,CUSTOM:111,EVERYONE:80,EVERYONE_MINUS_FRIENDS:70,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SELF:10,NOBODY:0},CustomPrivacyTokens:{FRIENDS:247124075410460,FRIENDS_OF_FRIENDS:498125493540100,EVERYONE_MINUS_FRIENDS:772952856620091,FRIENDS_AND_MUTUAL_GAME_PLAYERS:280844843167017,FRIENDS_ON_CAMPUS:398431124771867},FriendsValue:{FRIENDS_ON_CAMPUS:210,FRIENDS_AND_MUTUAL_GAME_PLAYERS:200,EVERYONE:80,EVERYONE_MINUS_FRIENDS:70,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SOME_FRIENDS:30,SELF:10,NO_FRIENDS:0},PostParam:{EVERYONE:300645083384735,NETWORKS_FRIENDS:123780391104836,FRIENDS_OF_FRIENDS:275425949243301,FRIENDS:291667064279714,FRIENDS_MINUS_ACQUAINTANCES:284920934947802,ONLY_ME:286958161406148,FB_ONLY:411331705596297,EVERYONE_MINUS_FRIENDS:736033610321305,EVENT_PUBLIC:1493271774218406,EVENT_INVITE_ONLY:599950423437029,FRIENDS_AND_MUTUAL_GAME_PLAYERS:680053436169734},PrivacyField:{CURRENT_COMPOSER:8787670733,DEFAULT_COMPOSER:875106179167765,TIMELINE_TAGGED_CONTENT_VISIBILITY:8787530733,WALL_POSTS:8787370733,TAG_EXPANDED_CONTENT:8787795733,TAGGER_MESSENGER_SHARING:495310445388980,SEARCH_BY_PHONE:8787815733,SEARCH_BY_EMAIL:8787820733,CAN_FRIEND:8787540733,DEPRECATED_APP_DEFAULT:8787700733,SEARCH_BY_NAME:8787755733,SEARCH_BY_CONTACT_INFO:8787760733,SCREENNAME:8787335733,CURRENT_ADDRESS:8787355733,FRIENDS:8787365733,WEBSITE:8787375733,STATUS_UPDATES:8787395733,BIRTHDAY:8787510733,BIRTHYEAR:8787805733,CAN_COMMENT:8787535733,RELATIONSHIPS:8787550733,PROFILE_PICTURE_ALBUM:8787565733,DASHBOARD_ACTIVITY:8787575733,FAMILY:8787585733,INTERESTED_IN_LOOKING_FOR:8787590733,PLACES:8787620733,LANGUAGES:8787625733,QUOTATIONS:8787630733,ABOUT_ME:8787635733,POLITICAL:8787640733,RELIGIOUS:8787645733,CURRENT_CITY:8787650733,HOMETOWN:8787655733,PROFILE_LIKES_AND_INTERESTS:8787660733,BLURB:8787665733,OTHER_LIKES_AND_INTERESTS:8787680733,SUBSCRIBERS:8787690733,SUBSCRIBED_TO:8787695733,PERSONAL_CONTACT_DEFAULT:8787765733,PAGE_CONTACT_DEFAULT:8787770733,AUTO_GENERATED_FB_EMAIL:8787775733,CUSTOM_GENDERS:237760973066217,LOCATION_DO_NOT_WRITE_DIRECTLY:8787785733,SOCIAL_ADS:7719929599,PLATFORM_ADS:126540474531,BASS_ADS:183468681673909,ACTIVITIES:144331422306930,INTERESTS:113693108715766,MUSIC:172372399483077,BOOKS:100725463352700,GAMES:199298603444535,MOVIES:201146206594049,TV_SHOWS:129665560441221,SPORTS_PLAYED:129991670408857,FAVORITE_TEAMS:225288534151802,FAVORITE_ATHLETES:203380763033334,PEOPLE_I_ADMIRE:210380795648667,FAVORITE_FOODS:585935528106425,FAVORITE_RESTAURANTS:172588449584647,FAVORITE_WEBSITES:180412195459106,CLOTHING_BRANDS:397391233714082,LAST_POST_PRIVACY:314763985364212,SECOND_TO_LAST_POST_PRIVACY:321179124722698,PREVIOUS_SECONDARY_COMPOSER:864562253561430,RECENT_COMPOSER:358304524327898,COMPOSER_CUSTOM_INCLUSION:1067668039947624,COMPOSER_CUSTOM_EXCLUSION:1082068668536535,NOW_COMPOSER:421290164697736,BACKSTAGE_PRIVACY:809506612451171,FACEREC_ENROLLMENT:1709697052669794,DEVICE_PHOTO_PROCESSING:1798505450455620,SPACES_VR_OFFLINE_VISIT_PRIVACY:351913698615451,RESHARES_ON_TIMELINE_VISIBILITY:230094651068076,CAN_POST_TRIBUTES:298481070877996,CAN_SEE_TRIBUTE_POSTS:1909416226028186,TRIBUTES_TAGGED_CONTENT_VISIBILITY:322268258473567,RESHARE_TO_STORIES:282421212606762,RESHARE_STORY_TO_STORIES:855792411486922,REPLIES_TO_STORIES:1362036977298100,EVENT_RESPONSE:316303542562773,COLLECTIONS_STICKY_PRIVACY:1032905720391450,EXAMPLE:621736848675997,FB_SHORTS_COMPOSER_CUSTOM_EXCLUSION:3866487916780840,FB_SHORTS_CURRENT_COMPOSER:216844253311823,SOUNDBITES_COMPOSER_CUSTOM_EXCLUSION:537781390802814,SOUNDBITES_CURRENT_COMPOSER:149771757278887,FB_POST_REMIX_COMPOSER:5137561969699718},TagExpansion:{NONE:0,TAGGEES:1,FRIENDS_OF_TAGGEES:2,FRIENDS_TAGGED:6},ExpansionType:{NONE:0,TAGS_ONLY:1}}}),null);
__d("MCompositionUserActions",["MComposition","MCompositionConstants","MCompositionDispatcher"],(function(a,b,c,d,e,f){var g=b("MCompositionConstants").ActionTypes;function h(a,c){b("MCompositionDispatcher").handleUpdateFromUserAction({actionType:a,data:c})}a={configDisablePhotosUpdate:function(a){var b={};b.CONFIG={};b.CONFIG.disable_photos=a;h(g.DISABLE_PHOTOS,b)},finalize:function(){h(g.COMPOSITION_FINALIZE,{})},initialize:function(a){h(g.COMPOSITION_INITIALIZE,a||{})},shareLinkUpdate:function(a){var b={};b.SHARE={};b.SHARE.SHARE_URI=a;h(g.SHARE_LINK_UPDATE,b)},shareRemoveLinkPreview:function(a){var b={};b[a]=!0;a={};a.SHARE={};a.SHARE.DISABLED_LINKS=b;h(g.SHARE_REMOVE_PREVIEW,a)},minutiaeRemove:function(){h(g.MINUTIAE_REMOVE,{})},minutiaeSet:function(a){var b={};b.MINUTIAE=a;h(g.MINUTIAE_SET,b)},photoUpdate:function(a){var b={};b.PHOTO=a;h(g.PHOTO_CHANGE,b)},placeRemove:function(){h(g.PLACE_REMOVE,{})},placeSet:function(a){h(g.PLACE_SET,new(b("MComposition"))().setStoreData("PLACE",a).serialize())},statusUpdate:function(a){h(g.STATUS_CHANGE,new(b("MComposition"))().setStoreData("STATUS",a).serialize())},withUpdate:function(a){var b={};b.WITH_TAGS=a;h(g.WITH_CHANGE,b)},groupSellUpdate:function(a){h(g.GROUP_SELL_UPDATE,new(b("MComposition"))().setStoreData("GROUP_SELL",a).serialize())},privacyUpdate:function(a){var b={};b.PRIVACY=a;h(g.PRIVACY_CHANGE,b)},formatUpdate:function(a){var b;h(g.FORMAT_CHANGE,(b={},b.FORMAT=a,b))}};e.exports=a}),null);
__d("MCompositionMinutiaeFields",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTION_TYPE_ID:"action_type",CUSTOM_ICON_ID:"custom_icon",FBT_PHRASE:"fbt_phrase",ICON:"icon_src",ICON_LEGACY:"icon",OBJECT_ID:"object",OBJECT_NAME:"object_str",SHOW_ATTACHMENT:"show_attachment",SUGGESTION_MECHANISM:"suggestion_mechanism",TRIGGERS_EVENT_TAG_EXPANSION:"triggers_event_tag_expansion",USE_DEFAULT_ICON:"use_default_icon"});f["default"]=a}),66);
__d("MCompositionMinutiaeStore",["MCompositionConstants","MCompositionMinutiaeFields","MCompositionStore","emptyFunction"],(function(a,b,c,d,e,f){a=b("MCompositionConstants").ActionTypes;d=new(b("MCompositionStore"))("MINUTIAE",b("MCompositionMinutiaeFields")).setRequiredFields("action_type","icon_src","icon","object","object_str").setHandlerFor(a.COMPOSITION_FINALIZE,(c=b("emptyFunction")).thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,c.thatReturnsArgument).setHandlerFor(a.MINUTIAE_REMOVE,c.thatReturnsNull).setHandlerFor(a.MINUTIAE_SET,c.thatReturnsArgument).register();e.exports=d}),null);
__d("MCompositionPhotoFields",[],(function(a,b,c,d,e,f){a=Object.freeze({PHOTO_INFO_LIST:"photo_info_list"});f["default"]=a}),66);
__d("MCompositionPhotoStore",["MCompositionConstants","MCompositionPhotoFields","MCompositionStore","emptyFunction"],(function(a,b,c,d,e,f){a=b("MCompositionConstants").ActionTypes;c=new(b("MCompositionStore"))("PHOTO",b("MCompositionPhotoFields")).setMutable(!0).setHandlerFor(a.COMPOSITION_FINALIZE,b("emptyFunction").thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,b("emptyFunction").thatReturnsArgument).setHandlerFor(a.PHOTO_CHANGE,b("emptyFunction").thatReturnsArgument).register();e.exports=c}),null);
__d("MCompositionPlaceFields",[],(function(a,b,c,d,e,f){a=Object.freeze({ADDRESS:"address",FREEFORM_NAME:"FREEFORM_NAME",ID:"id",IS_CURRENT:"is_current",IS_EVENT:"isEventResult",IS_NEW:"new_place",IS_NON_SPECIFIC:"isNonSpecific",JSON_LOCATION:"JSON_LOCATION",LATITUDE:"latitude",LONGITUDE:"longitude",NAME:"name",PHONE:"phone",SUGGESTION_MECHANISM:"suggestion_mechanism",SUGGESTED_OG_ACTION_TYPE_ID:"og_action_type_id",TOPIC_TOKENS:"topic_tokens",WEBSITE:"website",ZIP:"zip"});f["default"]=a}),66);
__d("MCompositionPlaceStore",["FBJSON","MCompositionConfigStore","MCompositionConstants","MCompositionDispatcher","MCompositionPlaceFields","MCompositionStore","MPlaces","emptyFunction"],(function(a,b,c,d,e,f){a=b("MCompositionConstants").ActionTypes;c=new(b("MCompositionStore"))("PLACE",b("MCompositionPlaceFields")).setRequiredFields("name").setHandlerFor(a.COMPOSITION_INITIALIZE,function(a){b("MCompositionDispatcher").waitFor([b("MCompositionConfigStore").toUpdate()]);return a}).setHandlerFor(a.PLACE_REMOVE,b("emptyFunction").thatReturnsNull).setHandlerFor(a.PLACE_SET,function(a){var c=a.latitude,d=a.longitude;c&&d?a.JSON_LOCATION=b("FBJSON").stringify({latitude:c,longitude:d}):a.JSON_LOCATION=b("MPlaces").getCurrentJSONLocation();return a}).register();e.exports=c}),null);
__d("MCompositionPrivacyFields",[],(function(a,b,c,d,e,f){a=Object.freeze({PRIVACY_FBID:"PRIVACY_FBID",CLOSE_DIALOG:"CLOSE_DIALOG",ALREADY_SAVED_STICKY:"ALREADY_SAVED_STICKY",NEVER_SAVE_STICKY:"NEVER_SAVE_STICKY",CUSTOM_LABEL:"CUSTOM_LABEL",CUSTOM_OPTION:"CUSTOM_OPTION"});f["default"]=a}),66);
__d("MCompositionPrivacyStore",["MCompositionConstants","MCompositionPrivacyFields","MCompositionStore","emptyFunction"],(function(a,b,c,d,e,f){a=b("MCompositionConstants").ActionTypes;c=new(b("MCompositionStore"))("PRIVACY",b("MCompositionPrivacyFields")).setRequiredFields("PRIVACY_FBID").setHandlerFor(a.COMPOSITION_FINALIZE,b("emptyFunction").thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,b("emptyFunction").thatReturnsArgument).setHandlerFor(a.PRIVACY_CHANGE,b("emptyFunction").thatReturnsArgument).register();e.exports=c}),null);
__d("MCompositionStatusFields",[],(function(a,b,c,d,e,f){a=Object.freeze({TEXT:"TEXT",LONGEST_LENGTH:"LONGEST_LENGTH"});f["default"]=a}),66);
__d("MCompositionStatusStore",["MCompositionConstants","MCompositionStatusFields","MCompositionStore","emptyFunction"],(function(a,b,c,d,e,f){c=b("MCompositionConstants").ActionTypes;function a(a){a=a||{};Object.prototype.hasOwnProperty.call(a,"TEXT")||(a.TEXT="");a.LONGEST_LENGTH=Math.max(g.get("LONGEST_LENGTH",0),a.TEXT.length);return a}var g=new(b("MCompositionStore"))("STATUS",b("MCompositionStatusFields")).setRequiredFields("LONGEST_LENGTH","TEXT").setHandlerFor(c.COMPOSITION_FINALIZE,b("emptyFunction").thatReturnsNull).setHandlerFor(c.COMPOSITION_INITIALIZE,a).setHandlerFor(c.STATUS_CHANGE,a).register();e.exports=g}),null);
__d("MCompositionWithFields",[],(function(a,b,c,d,e,f){a=Object.freeze({TOKENS:"TOKENS"});f["default"]=a}),66);
__d("MCompositionWithStore",["MCompositionConstants","MCompositionStore","MCompositionWithFields","emptyFunction"],(function(a,b,c,d,e,f){a=b("MCompositionConstants").ActionTypes;c=new(b("MCompositionStore"))("WITH_TAGS",b("MCompositionWithFields")).setMutable(!0).setHandlerFor(a.COMPOSITION_FINALIZE,b("emptyFunction").thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,b("emptyFunction").thatReturnsArgument).setHandlerFor(a.WITH_CHANGE,b("emptyFunction").thatReturnsArgument).register();e.exports=c}),null);
__d("XPrivacyCustomSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/custom/save/",{privacy_mutation_token:{type:"String"},id:{type:"String"},allow:{type:"String"},deny:{type:"String"},settings:{type:"String"},dont_update_sticky:{type:"Bool",defaultValue:!1},return_uri:{type:"String"}})}),null);
__d("MCustomPrivacy",["$","DOM","MCompositionPrivacyStore","MModalDialog","MRequest","Stratcom","XPrivacyCustomSaveController","XPrivacyTimelineSavedCustomAudienceSelectorDialogControllerRouteBuilder","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g="247124075410460",h="498125493540100",i="131277873681417",j="465556643468447",k="350239455052952";function l(a,c){b("setTimeoutAcrossTransitions")(function(){a.apply(null,c)},0)}var m={init:function(a,c){this._isTagExpansionVisibilityFlexible=c!=null?c.isTagExpansionVisibilityFlexible:!0;var d=b("$")("visibleto").tokenizer,e=b("$")("hiddenfrom").tokenizer;if(!d||!e){l(m.init,[a]);return}c=d.getTypeahead();var f=e.getTypeahead(),n=c.getDatasource(),o=[];function p(){for(var a=0;a<o.length;a++)o[a].remove()}b("Stratcom").listen(["m:page:unload",b("MModalDialog").STEP_CHANGE_EVENT],null,p);function q(a){var b=[];a=a.getTypeahead().getDatasource();for(var c in a._raw)a._excludeIDs[c]||b.push(c);a.sortHits("",b);c=a.renderNodes("",b);a.invoke("resultsready",c);a.invoke("complete")}var r=n.getSortHandler();n.setSortHandler(function(a,b,c){if(s())for(var d=0;d<b.length;d++){var e=b[d].tokenType;e!=i&&e!=k&&(b.splice(d,1),d--)}r(a,b,c)});function s(){var a=d.getTokens();return!!(g in a||h in a)}function t(a){var c=this.getTypeahead().getDatasource();c.removeExcludeID(a);s()||b("DOM").hide(b("$")("mtagexpansion"));this._typeahead._hasFocus&&this._typeahead.getValue()===""?q(this):b("setTimeoutAcrossTransitions")(this._typeahead.refresh.bind(this._typeahead),0)}o.push(b("Stratcom").listen("focus","tokenizer-input",function(c){c=c.getNode("tokenizer");c.id==="visibleto"&&b("DOM").hide(b("$")(a));q(c.tokenizer)}));d.listen("removed",t);e.listen("removed",t);c.listen("choose",function(a){var c=a.rel,f=null;(c==h||c==g)&&(f=c);if(f){this._isTagExpansionVisibilityFlexible&&b("DOM").show(b("$")("mtagexpansion"));for(var c in d.getTokens()){var i=n.getResult(c).tokenType;c!=f&&i!=j&&i!=k&&(d.removeToken(c),n.removeExcludeID(c))}}u(d,e,a)});f.listen("choose",function(a){u(e,d,a)});function u(a,b,c){c=c.rel;c in b.getTokens()&&(b.removeToken(c),b.getTypeahead().getDatasource().removeExcludeID(c));a.getTypeahead().getDatasource().addExcludeID(c)}function v(){var c=Object.keys(d.getTokens());if(!c.length){b("DOM").show(b("$")(a));return null}var f=Object.keys(e.getTokens());b("MModalDialog").setSpinnerVisibility(!0);b("MModalDialog").setHeaderButtonsEnabledState(!1);var g=b("DOM").find(document,"input","tagexpansionenabled").checked,h=b("MCompositionPrivacyStore").get("NEVER_SAVE_STICKY",!1);return{id:"0",allow:c,deny:f,settings:JSON.stringify({no_tag_expansion:!g}),dont_update_sticky:h}}function w(){var a=v(),c=b("XPrivacyCustomSaveController").getURIBuilder().getURI();c=new(b("MRequest"))(c).setAutoProcess(!1).setMethod("POST").setData(a);c.listen("done",function(a){b("Stratcom").invoke("MCustomPrivacy::save",null,a),b("MModalDialog").close({canceled:!1,goBack:!0,payload:a})});c.send()}o.push(b("Stratcom").listen("click","save-privacy",w));o.push(b("Stratcom").listen("click","custom-privacy-default-privacy-save",function(){b("MModalDialog").goBack(),b("Stratcom").invoke("MCustomPrivacy::updateDefaultPrivacySelector",null,v())}))},setExcludeID:function(a,c){var d=b("$")(a).tokenizer;if(!d){l(m.setExcludeID,[a,c]);return}a=d.getTypeahead().getDatasource();for(var d=0;d<c.length;d++){var e=c[d];a.addExcludeID(e)}},save:function(a,c){c===void 0&&(c=!1);var d=b("XPrivacyCustomSaveController").getURIBuilder().getURI();d=new(b("MRequest"))(d).setAutoProcess(!1).setMethod("POST").setData(a);d.listen("done",function(a){b("Stratcom").invoke("MCustomPrivacy::save",null,a);if(c){var d=b("XPrivacyTimelineSavedCustomAudienceSelectorDialogControllerRouteBuilder").buildUri({has_tags:!1,use_small_icon:!0,should_show_default_privacy_nux:!1}).toString();b("MModalDialog").load(d)}else b("MModalDialog").close({canceled:!1,goBack:!0,payload:a})});d.send()}};e.exports=m}),null);
__d("MSavedCustomAudienceSelector",["csx","CSS","DOM","EventListener","LoadingIndicator","MCompositionPrivacyStore","MModalDialog","MRequest","Parent","PrivacyConst","Stratcom","XPrivacyCustomSaveController","goURI"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a,b,e,f,g,h,i,j,k,l,m){var n=this;this.setLoading=function(a){this.$2=a};this.$16=function(a){a=a.getNode("typeahead-result");if(a==null)return;var b=a.getAttribute("rel");a=a.firstElementChild;if(b==null||a==null)return;n.$21(a,b,!n.$8.has(b))};this.$13=function(a){var b=d("Parent").bySelector(a.target,"._5f25"),c=a.target.value;a=a.target.checked;this.$21(b,c,a)};this.$21=function(a,b,e){if(!this.$7.has(b)){a=a.cloneNode(!0);c("CSS").removeClass(a,"touched");d("DOM").appendContent(this.$4,a);this.$7.add(b)}e?this.$8.add(b):this.$8["delete"](b);a=d("DOM").scry(this.$3,"input");a.forEach(function(a){a.value===b&&(a.checked=e)})};this.$14=function(a){a=a.target.value.trim()==="";this.$22(a,!1)};this.$15=function(a){this.$5.value="",this.$22(!0,!1)};this.$20=function(a){a=a.getData();a=a.resultCount;var b=n.$5.value.trim()==="";n.$22(b,a<=0)};this.$22=function(a,b){c("CSS").conditionShow(this.$3,a),c("CSS").conditionShow(this.$6,!a),c("CSS").conditionShow(this.$12,!a&&b),a&&c("Stratcom").invoke("search-cancel")};this.getData=function(){var a=this.$23(),b=[],d=[];this.$9==="friends_except"?(b=[c("PrivacyConst").CustomPrivacyTokens.FRIENDS.toString()],d=Array.from(this.$8)):b=Array.from(this.$8);return{id:this.$11,allow:b,deny:d,dontUpdateSticky:a,savedCustomType:this.$9,selector:this}};this.save=function(a){var b=this,d=c("XPrivacyCustomSaveController").getURIBuilder().getURI();d=new(c("MRequest"))(d).setAutoProcess(!1).setMethod("POST").setData({id:a.id,allow:a.allow,deny:a.deny,dont_update_sticky:a.dontUpdateSticky});d.listen("done",function(a){c("Stratcom").invoke("MCustomPrivacy::save",null,a),b.$1()});this.$2();d.send()};this.$19=function(){this.save(this.getData())};this.$18=function(){d("LoadingIndicator").show(),d("MModalDialog").close({canceled:!1,goBack:!0})};this.$17=function(){c("goURI")(this.$10)};this.setNavigation=function(a){this.$1=a};this.$23=function(){return this.$11==="0"?c("MCompositionPrivacyStore").get("NEVER_SAVE_STICKY",!1):!0};this.isSelected=function(a){return this.$8.has(a)};this.$4=b;this.$3=a;this.$7=h;this.$8=i;this.$5=f;this.$6=g;this.$9=j;this.$10=k;this.$11=l;this.$12=m;var o=[];o.push(c("EventListener").listen(a,"change",this.$13.bind(this)));o.push(c("EventListener").listen(e,"input",this.$14.bind(this)));o.push(c("EventListener").listen(g,"click",this.$15.bind(this)));o.push(c("Stratcom").listen(["touchstart","mousedown"],"jx-typeahead-results",this.$16));o.push(c("Stratcom").listen("click","jx-typeahead-results",function(a){a.setCanPreventDefaultInRawEvent(!0).prevent()}));this.$1=function(){return n.$17()};this.$2=function(){return n.$18()};o.push(c("Stratcom").listen("click","saved-custom-privacy-save",this.$19.bind(this)));(b=o)==null?void 0:b.push(c("Stratcom").listen("click","saved-custom-privacy-default-privacy-save",function(){d("MModalDialog").goBack(),c("Stratcom").invoke("MSavedCustomAudienceSelector::updateDefaultPrivacySelector",null,n.getData())}));o.push(c("Stratcom").listen("saved-custom-search-show-results","*",this.$20));o.push(c("Stratcom").listen([d("MModalDialog").WILL_CLOSE_EVENT,d("MModalDialog").STEP_CHANGE_EVENT,"m:page:unload"],null,function(){o&&o.forEach(function(a){a.remove()}),o=[]}))};g["default"]=a}),98);
__d("MSavedCustomAudienceSelectorStore",["CSS","DOM","MSavedCustomAudienceSelector"],(function(a,b,c,d,e,f){"use strict";a={_instances:{},_onNavigation:null,_onLoading:null,init:function(a,c,d,e,f,g,h,i,j,k,l){a=new(b("MSavedCustomAudienceSelector"))(a,c,d,e,f,g,h,i,j,k,l);this._onNavigation!==null&&a.setNavigation(this._onNavigation);this._onLoading!==null&&a.setLoading(this._onLoading);this._instances[i]=a},getInstance:function(a){return this._instances[a]},setNavigation:function(a){this._onNavigation=a},setLoading:function(a){this._onLoading=a},resetNavigationAndLoading:function(){this._onNavigation=null,this._onLoading=null},syncPagedItems:function(a,c){var d=this,e=b("DOM").scry(a,"input");e.forEach(function(a){d.getInstance(c).isSelected(a.value)&&(a.checked=!0)});b("CSS").show(a)}};e.exports=a}),null);
__d("XDefaultPrivacyUpdateCustomPrivacySelectorOptionTextControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/privacy/default_privacy/selector/update_option_text/",Object.freeze({allow:[],deny:[]}),void 0);b=a;g["default"]=b}),98);
__d("XPrivacyCustomEditController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/custom/edit/",{post_id:{type:"String"},privacy_id:{type:"String"},can_update_sticky_privacy:{type:"Bool",defaultValue:!0}})}),null);
__d("XPrivacyTimelineSavedCustomAudienceSelectorDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/timeline/saved_custom_audience_selector_dialog/",{selected_option:{type:"String"},has_tags:{type:"Bool",defaultValue:!1},use_small_icon:{type:"Bool",defaultValue:!1},should_show_default_privacy_nux:{type:"Bool",defaultValue:!1},nux_use_case:{type:"Enum",defaultValue:0,enumType:0}})}),null);
__d("MBlackbirdTimelinePrivacySelectorListener",["csx","$","CSS","DOM","Event","MCompositionPrivacyStore","MCustomPrivacy","MModalDialog","MRequest","MSavedCustomAudienceSelectorStore","Parent","Stratcom","XAsyncRequest","XDefaultPrivacyUpdateCustomPrivacySelectorOptionTextControllerRouteBuilder","XPrivacyCustomEditController","XPrivacyTimelineSavedCustomAudienceSelectorDialogController","ge","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=null,j=function(){},k=null,l=!1,m={},n=null;function a(a,b,d,e){i=b,l=e,c("Event").listen(a,"click",function(){c("Stratcom").invoke("m:privacy:selector:composer-button:clicked"),o(a,d)})}function o(a,b){b||c("DOM").hide(x());k===null&&t();c("MSavedCustomAudienceSelectorStore").setNavigation(function(){c("MModalDialog").close({canceled:!1,goBack:!0})});c("MSavedCustomAudienceSelectorStore").setLoading(function(){c("MModalDialog").setSpinnerVisibility(!0),c("MModalDialog").setHeaderButtonsEnabledState(!1)});var d=c("DOM").scry(c("$")("m_composer_privacy_selector"),"input")[0].value;c("MModalDialog").open(c("XPrivacyTimelineSavedCustomAudienceSelectorDialogController").getURIBuilder().setString("selected_option",d).setBool("has_tags",y(a)).setBool("use_small_icon",l).getURI(),function(){b||(c("DOM").hide(c("$")("viewport")),c("DOM").show(x()));if(y(a)){var d=c("DOM").find(a,"span","plus-label");c("DOM").show(d)}})}function b(a,b,d){c("Event").listen(a,"click",function(){j=function(){var b=c("ge")("m_composer_privacy_selector");if(b){b=c("DOM").find(b,"div","privacy-button-icon");var d=c("DOM").scry(a,"i","small-icon")[0]||c("DOM").scry(a,"i","icon")[0];d!=null&&c("DOM").setContent(b,u(d))}}})}function e(a){var b=c("Stratcom").listen("MPrivacySettingsSelector:selected",null,function(b){b=b.getData();if(b.isCustom){var d=c("XPrivacyCustomEditController").getURIBuilder().setString("privacy_id",b.value).getURI();c("MModalDialog").load(d.toString());c("MModalDialog").setHeaderButtonsEnabledState(!0)}else b.isSavedCustom||(v(b),w(b.labelElement.innerText),z(a,b.value),c("Stratcom").invoke("MPrivacyComposerMenu::change",null,{value:b.value,showPlus:!0,iconHTML:b.iconElement,optionLabel:b.labelElement,instance:null}))});c("Stratcom").listen(["m:history:change","MCustomPrivacy::removeListener"],null,function(){b.remove(),c("Stratcom").removeCurrentListener()})}function f(a){var b=c("Stratcom").listen("MSavedCustomAudienceSelector::updateDefaultPrivacySelector",null,function(b){c("Stratcom").removeCurrentListener(),c("setTimeout")(function(){var d=b.getData(),e=c("DOM").scry(a,"label","privacy_option_item");for(var f=0;f<e.length;f++){var g=e[f],h=d.savedCustomType.toString()+"settings-label";h=c("ge")(h,g);if(h==null)continue;m[d.savedCustomType]=d;break}for(var g in m){b=m[g];h=c("XDefaultPrivacyUpdateCustomPrivacySelectorOptionTextControllerRouteBuilder").buildUri({privacy_option_text_label_id:g+"settings-label",privacy_type:b.savedCustomType,allow:b.allow,deny:b.deny}).toString();new(c("XAsyncRequest"))().setURI(h).setMethod("POST").send()}},1e3)});c("Stratcom").listen(["MCustomPrivacy::removeListener"],null,function(){b.remove(),c("Stratcom").removeCurrentListener()})}function h(a){var b=c("Stratcom").listen("MCustomPrivacy::updateDefaultPrivacySelector",null,function(b){c("Stratcom").removeCurrentListener(),c("setTimeout")(function(){var d=b.getData(),e=c("DOM").scry(a,"label","privacy_option_item selected touchable sticky_custom");e.length>0?n=d:(d.dont_update_sticky=!1,c("MCustomPrivacy").save(d,!0));if(n!=null){e=c("XDefaultPrivacyUpdateCustomPrivacySelectorOptionTextControllerRouteBuilder").buildUri({privacy_option_text_label_id:"sticky_custom_subtitle_label",allow:n.allow,deny:n.deny}).toString();new(c("XAsyncRequest"))().setURI(e).setMethod("POST").send()}},1e3)});c("Stratcom").listen(["MCustomPrivacy::removeListener"],null,function(){b.remove(),c("Stratcom").removeCurrentListener()})}function p(a,b,d){a=c("DOM").scry(a,"label","privacy_option_item");for(var e=0;e<a.length;e++){var f=a[e],g=c("DOM").find(f,"input");if(g.checked){var h=c("DOM").scry(f,"i","small-icon");h={iconElement:c("DOM").find(f,"i","icon"),smallIconElement:h.length>0?h[0]:null,labelElement:c("DOM").find(f,"span","label"),value:g.value,isSavedCustom:!1,isCustom:!1};v(h);w(h.labelElement.innerText);if(g.id==="sticky_custom"&&n!=null){n.dont_update_sticky=!d;c("MCustomPrivacy").save(n);return}if(g.id in m){f=m[g.id];f.dontUpdateSticky=!d;f.selector.save(f);return}d?z(b,h.value):c("MModalDialog").close({canceled:!1,goBack:!0});c("Stratcom").invoke("MPrivacyComposerMenu::change",null,{value:h.value,showPlus:!0,iconHTML:h.iconElement,optionLabel:h.labelElement,instance:null});break}}}function q(a,b,d,e){var f=c("Event").listen(a,"click",function(){var a=c("DOM").find(b,"input");p(d,e,a.checked||a.disabled)});c("Stratcom").listen(["m:history:change","MCustomPrivacy::removeListener"],null,function(){f.remove(),c("Stratcom").removeCurrentListener()})}function r(a,b,d){var e=c("Event").listen(a,"click",function(){p(b,d,!0),c("Stratcom").invoke("MDefaultPrivacy::stopShowingNux",null)});c("Stratcom").listen(["m:history:change","MCustomPrivacy::removeListener"],null,function(){e.remove(),c("Stratcom").removeCurrentListener()})}function s(a){var b=c("Event").listen(a,"click",function(){c("DOM").hide(c("$")("default-privacy-nux-dismiss-dialog"))});c("Stratcom").listen(["m:history:change","MCustomPrivacy::removeListener"],null,function(){b.remove(),c("Stratcom").removeCurrentListener()})}function t(){k=c("Stratcom").listen("MCustomPrivacy::save",null,function(a){a=a.getData();j();w(a.payload.description);i!==null&&(i.value=a.payload.value);c("Stratcom").invoke("MPrivacyComposerMenu::change",null,{value:a.payload.value})}),c("Stratcom").listen(["MCustomPrivacy::removeListener","m:page:unload"],null,function(){k&&k.remove(),k=null,c("Stratcom").removeCurrentListener(),c("MSavedCustomAudienceSelectorStore").resetNavigationAndLoading()})}function u(a){a=a.cloneNode(!0);return c("CSS").show(a)}function v(a){i!==null&&(i.value=a.value);var b=c("ge")("m_composer_privacy_selector");if(b){b=c("DOM").find(b,"div","privacy-button-icon");c("DOM").setContent(b,u(a.smallIconElement||a.iconElement))}}function w(a){var b=c("ge")("m_composer_privacy_selector");if(b){b=c("DOM").scry(b,"span","button-text");b.length===1&&c("DOM").setContent(b[0],a)}}function x(){return c("$")("composer-main-view-id")}function y(a){a=d("Parent").bySelector(a,"._27-k");return a!==null}function z(a,b){var d=c("MCompositionPrivacyStore").get("NEVER_SAVE_STICKY",!1);if(!d){d=new(c("MRequest"))(a).setAutoProcess(!1).setMethod("POST").setData({privacyx:b});d.listen("done",function(){c("MModalDialog").close({canceled:!1,goBack:!0})});c("MModalDialog").setSpinnerVisibility(!0);c("MModalDialog").setHeaderButtonsEnabledState(!1);d.send()}else c("MModalDialog").close({canceled:!1,goBack:!0})}g.initPrivacyButton=a;g.openSelector=o;g.initCustomMenuListener=b;g.initSelectionListener=e;g.initSavedCustomAudienceSelectorListener=f;g.initCustomAudienceSelectorListener=h;g.initSaveButtonListener=q;g.initNuxSaveButtonListener=r;g.initNuxDismissDialogChangeAudienceButtonListener=s}),98);
__d("MComposerEligibility",["MCompositionMinutiaeStore","MCompositionPhotoStore","MCompositionPlaceStore","MCompositionShareStore","MCompositionStatusStore","MCompositionWithStore","gkx"],(function(a,b,c,d,e,f){var g={isTextEligible:function(a){return a===null||a===""?!1:a.length<=150},isComposerEmpty:function(){var a=b("MCompositionPhotoStore").get("photo_info_list",null);a=a!==null&&a.length>0;var c=b("MCompositionStatusStore").get("TEXT","");c=c.trim();c=c.replace(/\n{3,}/,"\n\n");c=c.replace(/\t+/," ");c=c!=="";var d=b("MCompositionWithStore").get("TOKENS");d=d!==null&&d.length>0;var e=b("MCompositionPlaceStore").get("id")!==null,f=b("MCompositionMinutiaeStore").get("action_type"),g=b("MCompositionMinutiaeStore").get("object");f=f!==null||g!==null;g=b("MCompositionShareStore").get("SHARE_URI")!==null;return!a&&!c&&!d&&!e&&!f&&!g?!0:!1},isStoryPostEligible:function(a){var c=b("MCompositionPhotoStore").get("photo_info_list",null),d=b("MCompositionStatusStore").get("TEXT","");d=d.trim();d=d.replace(/\n{3,}/,"\n\n");d=d.replace(/\t+/," ");var e=b("MCompositionWithStore").get("TOKENS"),f=b("MCompositionPlaceStore").get("id"),h=b("MCompositionMinutiaeStore").get("action_type"),i=b("MCompositionMinutiaeStore").get("object");e=e!==null&&e.length>0||f!==null||h!==null||i!==null;f=c!==null&&c.length>0&&(!e||e&&c[0].type==="photo");h=b("MCompositionShareStore").get("SHARE_URI")!==null;i=b("gkx")("676786")&&h&&a&&!e;if(e&&d===""&&!f&&!h)return!1;return d!==""&&g.isTextEligible(d)&&!h||d===""&&f&&!h||d!==""&&g.isTextEligible(d)&&!f&&i||d===""&&!f&&i?!0:!1}};e.exports=g}),null);
__d("MFriendsTaggerReact",["invariant","$","DOM","MLegacyDataStore","createDeprecatedProperties","eventsMixinDeprecated","getActiveElement"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.setRoot(a),b("DOM").listen(this.getRoot(),"click",null,this.$1.bind(this))}var c=a.prototype;c.hide=function(){var a=b("getActiveElement")();a&&a.blur();b("DOM").hide(this.getRoot())};c.show=function(){b("DOM").show(this.getRoot()),this.getTokenizer().component.init(),this.onShow&&this.onShow()};c.clear=function(){var a=b("DOM").find(this.getRoot(),"div","tokenizer");a=b("MLegacyDataStore").get(a);a.tokenizer&&(this.setEntries([]),this.onClear&&this.onClear())};c.hasTokens=function(){return this.getEntries().length>0};c.getTokens=function(){return this.getEntries().reduce(function(a,b){a[b.id]=b;return a},{})};c.removeToken=function(a){this.getTokenizer().component.onRemoveFromCollection(a)};c.getEntries=function(){return this.getTokenizer().component.getEntries()};c.setEntries=function(a){this.getTokenizer().component.setEntries(a)};c.$1=function(a){a.getNode("cancel_with_tagger")?this.$2():a.getNode("submit_with_tagger")&&this.$3()};c.$2=function(){this.hide(),this.invoke("cancel",{})};c.$3=function(){var a=this.getEntries();this.hide();this.invoke("submit",{tokens:a})};c.getTokenizer=function(){var a=b("DOM").find(this.getRoot(),"div","tokenizer");a=b("MLegacyDataStore").get(a);a||g(0,1304);a.tokenizer||g(0,1305,Object.keys(a).join(" "));return a.tokenizer};c.setOnShow=function(a){this.onShow=a};c.setOnClear=function(a){this.onClear=a};a.fromID=function(c){c=b("$")(c);var d=b("MLegacyDataStore").get(c);d.$4||(d.$4=new a(c));return d.$4};a.getFriendIds=function(a){return a.friend_ids?a.friend_ids:a.tokens.map(function(a){return a.id})};return a}();b("createDeprecatedProperties")(a,{root:null});b("eventsMixinDeprecated")(a,["submit","cancel"]);e.exports=a}),null);
__d("MSubscriptionsHandlerMixin",["SubscriptionsHandler","destroyOnUnload"],(function(a,b,c,d,e,f){a={__subscriptionsHandler:null,addSubscriptions:function(){var a=this;this.__subscriptionsHandler||(this.__subscriptionsHandler=new(b("SubscriptionsHandler"))(),b("destroyOnUnload")(function(){a.__subscriptionsHandler.release(),a.__subscriptionsHandler=null}));for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];this.__subscriptionsHandler.addSubscriptions.apply(this.__subscriptionsHandler,d)}};e.exports=a}),null);
__d("MComposerDialogClearablePreview",["DOM","MComposerDialogClearablePreviewConstants","MSubscriptionsHandlerMixin","Stratcom","mixInEventEmitter","mixin"],(function(a,b,c,d,e,f){var g=b("MComposerDialogClearablePreviewConstants").sigils;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$MComposerDialogClearablePreview1=d;e.$MComposerDialogClearablePreview2=c;e.addSubscriptions(b("DOM").listen(e.$MComposerDialogClearablePreview2,"click",g.CLEAR,e.$MComposerDialogClearablePreview3.bind(babelHelpers.assertThisInitialized(e))));return e}var d=c.prototype;d.clear=function(){this.hide();b("DOM").setContent(this.$MComposerDialogClearablePreview1,"");return this};d.$MComposerDialogClearablePreview3=function(){this.clear();this.emit("clear");b("Stratcom").invoke("m:quicksearch:places:clear",null,null);return this};d.hide=function(){b("DOM").hide(this.$MComposerDialogClearablePreview2);return this};d.setValue=function(a){b("DOM").setContent(this.$MComposerDialogClearablePreview1,a);this.show();return this};d.show=function(){b("DOM").show(this.$MComposerDialogClearablePreview2);return this};d.showIfHasValue=function(){return this.$MComposerDialogClearablePreview1.innerText?this.show():this.hide()};return c}(b("mixin")(b("MSubscriptionsHandlerMixin")));b("mixInEventEmitter")(a,{clear:!0});e.exports=a}),null);
__d("XMStoriesAsyncTrayController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stories/tray/",{})}),null);
__d("MStoriesTrayUtils",["MPageCache","MPageControllerPath","MRequestTypes","MResponseData","MURI","XAsyncRequest","XMStoriesAsyncTrayController"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,e){a=new(c("XAsyncRequest"))(new(c("MURI"))(a).toString());a.setType(d("MRequestTypes").DEPENDENT);a.setAutoProcess(!1);a.setResponseHandler(function(a){a=new(c("MResponseData"))(a);a.process();var e=d("MPageControllerPath").getRequestPath();c("MPageCache").addCachedIUIResponse(e,a);b&&b()});a.setErrorHandler(function(){e&&e()});a.send()};function a(a,b){var d=c("XMStoriesAsyncTrayController").getURIBuilder().getURI();h(d,a,b)}function b(a){a.forEach(function(a){h(a)})}g.refreshTray=a;g.refreshFeedUnitsWithURIs=b}),98);
__d("MStoriesProductionTrayAsync",["cx","Bootloader","CSS","MFBStoriesGatingConfig","MStoriesProductionInfo","MStoriesProductionTrayUtils","MStoriesStratcomEvents","MStoriesToast","MStoriesTrayUtils","MStoriesUIConstants","MStoriesUploadStatus","Stratcom"],(function(a,b,c,d,e,f,g){"use strict";var h={handleFailedAddToStoryPogSelected:function(){if(b("MStoriesProductionInfo").getUploadStatus()!==b("MStoriesUploadStatus").FAILED)return!1;var a=document.getElementById("m-stories-production-input");if(a){a.click();b("MStoriesProductionInfo").setUploadStatus(b("MStoriesUploadStatus").IDLE);b("MStoriesProductionTrayUtils").updateProductionPog();return!0}return!1},uploadCB:function(a){var c=b("MStoriesProductionTrayUtils").getAnimationPog();if(a)b("MStoriesProductionInfo").setUploadStatus(b("MStoriesUploadStatus").IDLE),b("MFBStoriesGatingConfig").trayType!=="circular"||c&&c.id==="m-stories-add-item-pog"?b("MStoriesTrayUtils").refreshTray(function(){h._cleanupUploading(),b("MStoriesToast").showDefaultToast(b("MStoriesUIConstants").UPLOAD_SUCCESSFUL)},function(){h._cleanupUploading()}):(h._cleanupUploading(),b("MStoriesToast").showDefaultToast(b("MStoriesUIConstants").UPLOAD_SUCCESSFUL)),c&&b("CSS").addClass(c,"_26w9"),b("Stratcom").invoke(b("MStoriesStratcomEvents").UPLOAD_SUCCESS,null,null);else{b("MStoriesProductionInfo").setUploadStatus(b("MStoriesUploadStatus").FAILED);if(c&&c.id==="m-stories-add-item-pog"){var d=document.getElementById("m-stories-add-item");d&&b("CSS").addClass(d,"no-after");c&&b("CSS").removeClass(c,"hide-border")}h._cleanupUploading();b("Stratcom").invoke(b("MStoriesStratcomEvents").UPLOAD_FAILED,null,null)}b("Bootloader").loadModules(["FBStoriesLoggingConstants","MStoriesTypedLogger"],function(b,c){b=a?b.ACTION_SEND_STORY_SUCCEEDED:b.ACTION_SEND_STORY_FAILED;c=new c().setName(b);c.log()},"MStoriesProductionTrayAsync")},_cleanupUploading:function(){var a=document.getElementById("m-stories-add-item-pog"),c=document.getElementById("m-stories-owner-bucket-pog");a&&b("CSS").removeClass(a,b("MStoriesProductionTrayUtils").getUploadingClass());c&&b("CSS").removeClass(c,b("MStoriesProductionTrayUtils").getUploadingClass());a=document.getElementById("m-stories-add-item");a&&b("CSS").removeClass(a,"disable");b("MStoriesProductionTrayUtils").updateProductionPog()}};e.exports=h}),null);
__d("OGComposerConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EditAttachmentURI:"/ajax/composerx/attachment/edit/",ExercisesTypeID:718343998201893,TransitivityStateIntransitive:2})}),null);
__d("MComposerOGStrings",["fbt","MinutiaeVerbs","OGComposerConstants"],(function(a,b,c,d,e,f,g){a={getFBTPhrase:function(a,c,d,e){e="";switch(a){case b("MinutiaeVerbs").COMPOSER_FEELS:e=g._("{icon}\u0e23\u0e39\u0e49\u0e2a\u0e36\u0e01{object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_WATCHES:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e14\u0e39 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_READS:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e2d\u0e48\u0e32\u0e19 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_LISTENS:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e1f\u0e31\u0e07 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_DRINKS:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e14\u0e37\u0e48\u0e21 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_EATS:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e30\u0e17\u0e32\u0e19 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_PLAYS:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e25\u0e48\u0e19 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_TRAVELS:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e14\u0e34\u0e19\u0e17\u0e32\u0e07\u0e44\u0e1b\u0e17\u0e35\u0e48 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_LOOKS_FOR:e=g._("{icon} \u0e01\u0e33\u0e25\u0e31\u0e07\u0e21\u0e2d\u0e07\u0e2b\u0e32 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_SUPPORTS:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e2a\u0e19\u0e31\u0e1a\u0e2a\u0e19\u0e38\u0e19 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_CELEBRATES:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e09\u0e25\u0e2d\u0e07 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_MEETS:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e1e\u0e1a {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_GETS:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a{object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_MAKES:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e17\u0e33 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_GOES_TO:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e44\u0e1b{object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_THINKS_ABOUT:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e04\u0e23\u0e38\u0e48\u0e19\u0e04\u0e34\u0e14\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a{object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_REMEMBERS:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e23\u0e30\u0e25\u0e36\u0e01\u0e16\u0e36\u0e07 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_WRITES_A_NOVEL_ABOUT:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e02\u0e35\u0e22\u0e19\u0e19\u0e27\u0e19\u0e34\u0e22\u0e32\u0e22\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_SELECTS_VERB:e=g._("{icon}{verb}",[g._param("icon",c),g._param("verb",d)]);break;case b("MinutiaeVerbs").COMPOSER_OTHER:e=g._("{icon}{object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_VOTES:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e25\u0e07\u0e04\u0e30\u0e41\u0e19\u0e19\u0e40\u0e2a\u0e35\u0e22\u0e07\u0e43\u0e19 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_ATTENDS:e=g._("{icon}\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21 {object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_AGREES:e=g._("{icon}\u0e40\u0e2b\u0e47\u0e19\u0e14\u0e49\u0e27\u0e22\u0e01\u0e31\u0e1a{object}",[g._param("icon",c),g._param("object",d)]);break;case b("MinutiaeVerbs").COMPOSER_DISAGREES:e=g._("{icon}\u0e44\u0e21\u0e48\u0e40\u0e2b\u0e47\u0e19\u0e14\u0e49\u0e27\u0e22\u0e01\u0e31\u0e1a {object}",[g._param("icon",c),g._param("object",d)]);break;case b("OGComposerConstants").ExercisesTypeID:e=g._("{icon}{object}",[g._param("icon",c),g._param("object",d)]);break}return e}};e.exports=a}),null);
__d("MOpenGraphTagger",["cx","fbt","$","CSS","DOM","MComposerOGStrings","MCompositionShareStore","MLegacyDataStore","MRequest","MarauderLogger","Stratcom","eventsMixinDeprecated"],(function(a,b,c,d,e,f,g,h){a=function(){"use strict";function a(a){var c=this,d;this.setRoot(a);this._prompt=(d=b("DOM")).find(a,"span","og-composer-prompt");this._defaultPrompt=this._prompt.firstChild;this._defaultIconSelector=d.find(a,"div","og-icon-selector");this._iconSelector=this._defaultIconSelector;this._cancelButton=d.find(a,"button","cancel-og-tagger");this._defaultCancelButtonText=this._cancelButton.firstChild;this._isFromActivityLink=!1;d.listen(this.getRoot(),"click",null,this._handleClick.bind(this));this._listeners=[(a=b("Stratcom")).listen("click","object_result",function(a){a.prevent();a=a.getNode("object_result");var d=b("MLegacyDataStore").get(a);c._objectID=d.id;c._objectStr=d.name;c._icon=d.icon;c._iconSrc=d.icon_src;c._selectedScore=d.score;c._selectedOriginalID=d.original_id;c._clientTime=d.client_time;c._requestID=d.request_id;c._triggersEventTagExpansion=d.triggers_event_tag_expansion;c._addLoggingDataForNodes(a.parentNode.childNodes);c._showAttachment=b("MCompositionShareStore").isEmpty()&&d.show_attachment;c._customIconID=d.custom_icon;c._submit()}),a.listen("click","at_result",function(a){a.prevent(),c._selectActionType(b("MLegacyDataStore").get(a.getNode("at_result"))),b("MarauderLogger").log("og_composer_verb_selected",void 0,{at_id:c._actionType.id,place_id:c._placeID})}),a.listen("click","quicksearch-input",function(a){if(a.getNode("og-object-search")){a={at_id:c._actionType.id,place_id:c._placeID};b("MarauderLogger").log("og_composer_object_search_clicked",void 0,a)}}),a.listen("keyup","quicksearch-input",function(a){a=a.getNode("quicksearch-input");a&&(c._query=a.value,c._keystrokeCount++,c._lastNotBackspacedQuery.indexOf(c._query)!==0&&(c._lastNotBackspacedQuery=c._query))}),a.listen("composerReset",null,function(a){c._reset(),c._placeID=0})];a.listen("MStructuredComposer:cleanup",null,function(a){for(var a=0;a<c._listeners.length;a++)c._listeners[a].remove();c._listeners=[]});a.listen("MStructuredComposer-opened",null,function(a){c._compositionID=a.getData().session_id})}var c=a.prototype;c.getRoot=function(){return this.root};c.setRoot=function(a){this.root=a};c.hide=function(){b("DOM").hide(this.getRoot()),this.toggleIncludedPlaceSelector(!1)};c.show=function(){b("DOM").show(this.getRoot())};c.updatePrompt=function(a){b("DOM").setContent(this._prompt,a)};c.setPlaceID=function(a){this._placeID=a};c.setSuggestionMechanism=function(a){this._suggestionMechanism=a};c.toggleIncludedPlaceSelector=function(a){var c=b("DOM").scry(this.getRoot(),"div","og_included_place");c.length&&(this._isFromActivityLink=a,a?b("DOM").show(c[0]):b("DOM").hide(c[0]))};c._handleClick=function(a){a.getNode("cancel-og-tagger")&&this.cancel()};c._reset=function(){var a=b("DOM").scry(this.getRoot(),"div","og-object-search");a.length!==0&&(b("DOM").hide(a[0]),this._showActionTypeSelector());this._hideIconSelector();this._actionType=null;this._suggestionMechanism=null;this._typeaheadSessionID=null;this._candidateResults=null;this._query=null;this._selectedScore=null;this._selectedOriginalID=null;this._clientTime=null;this._requestID=null;this._lastNotBackspacedQuery=null;this._keystrokeCount=null;this.updatePrompt(this._defaultPrompt);this.setCancelButtonText(this._defaultCancelButtonText);b("Stratcom").invoke("m:quicksearch:clear")};c._addLoggingDataForNodes=function(a){this._candidateResults=[];this._numResults=a.length;for(var c=0;c<this._numResults;++c){var d=b("MLegacyDataStore").get(a[c]);this._objectID==d.id&&(this._selectedPos=c);this._candidateResults[c]=d.id?d.id:0}};c._cancelTypeaheadSession=function(){if(!this._typeaheadSessionID)return;this._triggersEventTagExpansion=!1;this._objectID=null;var a=b("DOM").scry(this.getRoot(),"div","object_result");this._addLoggingDataForNodes(a);b("MarauderLogger").log("og_composer_session_abandoned",void 0,{action_type_id:String(this._actionType.id),place_id:this._placeID,typeahead_session_id:this._typeaheadSessionID,composer_session_id:this._compositionID,request_id:this._requestID,candidate_results:this._candidateResults,num_results:this._numResults,last_not_backspaced_query:this._lastNotBackspacedQuery,keystroke_count:this._keystrokeCount})};c.cancel=function(){b("MarauderLogger").log("og_composer_cancel_tagger",void 0,{suggestion_mechanism:this._suggestionMechanism});var a=this._isFromActivityLink;this._isFromIconSelector&&this.invoke("cancelIconSelection",{action_type_id:this._actionTypeId,query:this._iconSearchInput?this._iconSearchInput.value:""});this._cancelTypeaheadSession();this._reset();this.hide();this.invoke("cancel");a&&this.invoke("cancelFromActivity")};c.setCancelButtonText=function(a){b("DOM").setContent(this._cancelButton,a)};c._showObjectSearch=function(){this._hideActionTypeSelector(),b("DOM").show(b("DOM").find(this.getRoot(),"div","og-object-search"))};c.selectActionTypeImplicitly=function(a){var c=b("DOM").scry(this.getRoot(),"div","at_result"),d=!1,e;for(var f=0;f<c.length;f++){e=b("MLegacyDataStore").get(c[f]);if(e.id==a){d=!0;break}}if(!d)return!1;this._selectActionType(e);return!0};c.showIconSelector=function(a,c,d,e){this.show();this._hideActionTypeSelector();this.updatePrompt(h._("\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e44\u0e2d\u0e04\u0e2d\u0e19"));this._actionTypeId=a;var f="/platform/og/composer/icon_selector/";f=new(b("MRequest"))(f).setData({actionTypeID:a,objectID:c,objectStr:d,iconID:e});f.listen("postprocess",this._setUpIconSelector.bind(this));f.send();b("DOM").replace(this._iconSelector,this._defaultIconSelector);b("DOM").show(this._iconSelector);b("MarauderLogger").log("og_composer_show_icon_selector")};c._setUpIconSelector=function(){var a=this;this._iconSelector=b("DOM").find(this.getRoot(),"div","og-icon-selector");var c=b("DOM").scry(this._iconSelector,"a","remove-token");c.length!==0&&b("DOM").listen(c[0],"click",null,this._cancelIconSelection.bind(this));this._iconSearchInput=b("DOM").scry(this._iconSelector,"input","icon-search-input")[0];b("DOM").listen(this._iconSelector,"click","og-icon-area",this._selectIcon.bind(this));b("DOM").listen(this._iconSelector,"click","original-og-icon",function(){return a.cancel()});this._isFromIconSelector=!0};c._cancelIconSelection=function(){this._reset(),this.invoke("clear")};c._selectIcon=function(a){a=a.getNode("og-icon-area");a=a.lastChild.cloneNode();b("DOM").show(a);var c=b("DOM").find(this.getRoot(),"i","token-icon");b("Stratcom").addSigil(a,"token-icon");b("DOM").replace(c,a);this._icon=a;this._iconSrc=b("MLegacyDataStore").get(a).icon_src;this._customIconID=this._icon.getAttribute("data-icon");c=this._iconSearchInput?this._iconSearchInput.value:"";a=this._actionTypeId;this._reset();this.invoke("iconChanged",{icon:this._icon,icon_src:this._iconSrc,custom_icon_id:this._customIconID,action_type_id:a,query:c})};c._selectActionType=function(a){this._typeaheadSessionID=String(Math.floor(Date.now()*Math.random()));this._lastNotBackspacedQuery="";this._keystrokeCount=0;this._actionType=a;a={at_id:this._actionType.id,place_id:this._placeID,sid:this._typeaheadSessionID};b("Stratcom").invoke("m:quicksearch:actionSelected",null,a);this._showObjectSearch();this.updatePrompt(this._actionType.prompt)};c._hideActionTypeSelector=function(){var a=b("DOM").scry(this.getRoot(),"div","og_ats");a.length!==0&&b("CSS").conditionClass(a[0],"_51xt",!0)};c._showActionTypeSelector=function(){var a=b("DOM").scry(this.getRoot(),"div","og_ats");a.length!==0&&b("CSS").conditionClass(a[0],"_51xt",!1)};c._hideIconSelector=function(a){this._isFromIconSelector=!1,this._actionTypeId=null,b("DOM").hide(this._iconSelector),this._showActionTypeSelector()};c._submit=function(){var a={action_type:this._actionType.id,action_type_str:this._actionType.name,object:this._objectID,object_str:this._objectStr,show_attachment:this._showAttachment,icon:this._icon,icon_src:this._iconSrc,fbt_phrase:this._getTagPhrase(this._actionType.id,this._icon,this._objectStr,this._objectID),triggers_event_tag_expansion:this._triggersEventTagExpansion,suggestion_mechanism:this._suggestionMechanism,custom_icon:this._customIconID,typeahead_session_id:this._typeaheadSessionID,composer_session_id:this._compositionID,selected_original_id:this._selectedOriginalID,selected_score:this._selectedScore,place_id:this._placeID,client_time:this._clientTime,request_id:this._requestID,display_position:this._selectedPos,num_results:this._numResults,results:this._candidateResults,search_term:this._query,last_not_backspaced_query:this._lastNotBackspacedQuery,keystroke_count:this._keystrokeCount};this._reset();this.invoke("submit",a);delete a.icon;delete a.fbt_phrase;b("MarauderLogger").log("og_composer_object_selected",void 0,a)};c._getTagPhrase=function(a,c,d,e){return b("MComposerOGStrings").getFBTPhrase(a,c,d,e)};a.fromID=function(c){c=b("$")(c);var d=b("MLegacyDataStore").get(c);d._ogTagger||(d._ogTagger=new a(c));return d._ogTagger};return a}();b("eventsMixinDeprecated")(a,["submit","cancel","clear","iconChanged","cancelFromActivity","cancelIconSelection"]);Object.assign(a.prototype,{root:null,_prompt:null,_defaultPrompt:null,_actionType:null,_objectID:null,_objectStr:null,_triggersEventTagExpansion:null,_icon:null,_iconSelector:null,_defaultIconSelector:null,_showAttachment:null,_customIconID:null,_placeID:0,_listeners:null,_suggestionMechanism:null,_typeaheadSessionID:null,_compositionID:null,_selectedOriginalID:null,_selectedScore:null,_clientTime:null,_requestID:null,_selectedPos:null,_numResults:null,_candidateResults:null,_query:null,_lastNotBackspacedQuery:null,_keystrokeCount:null});e.exports=a}),null);
__d("MPlatformDialogTagger",["$","DOM","Stratcom","SubscriptionsHandler","mapObject","mixInEventEmitter"],(function(a,b,c,d,e,f){var g;a=function(){"use strict";function a(){}var c=a.prototype;c.init=function(a,c,d){var e=this;this.$1=!1;this.$2=new(b("SubscriptionsHandler"))();this.$3=null;this.$4=a;this.$5=c;(a=b("Stratcom")).addSigil(this.$4.getRoot(),d);this.$2.addSubscriptions(a.listen("click",d,this.$6.bind(this)),this.$5.listen("cancel",this.closeTagger.bind(this)),this.$5.listen("submit",this.closeTagger.bind(this)),a.listen("m:history:change",null,function(a){if(!e.$1)return;e.closeTagger();a.prevent()}),a.listen("m:page:unload",null,this.$7.bind(this)))};c.createInputs=function(a,c,d){var e=this;d=d||"";this.reset();var f={};c?c.forEach(function(b){a[b]&&(f[b]=a[b])}):f=a;if(Object.keys(f).length===0){this.$3&&b("DOM").remove(this.$3);this.$4.setSelected(!1);return}this.$3=b("DOM").create("div");(g||(g=b("mapObject")))(f,function(a,c){b("DOM").appendContent(e.$3,b("DOM").create("input",{type:"hidden",name:d+c,value:a}))});b("DOM").appendContent(this.$4.getRoot(),this.$3);Object.keys(f).some(function(a){return Array.isArray(f[a])?f[a].length>0:f[a]})&&this.$4.setSelected(!0)};c.reset=function(){this.$3&&b("DOM").remove(this.$3),this.$3=null,this.$4.setSelected(!1)};c.destroy=function(){this.$7()};c.$6=function(a){if(a.getNode("remove"))return;this.$1=!0;b("DOM").hide(b("$")("viewport"));this.$5.show()};c.closeTagger=function(){this.$1=!1,b("DOM").show(b("$")("viewport")),this.$5.hide()};c.$7=function(){this.clearInputs(),this.$2.release(),this.$2=null,this.$5&&this.$5.getRoot()&&b("DOM").remove(this.$5.getRoot())};return a}();b("mixInEventEmitter")(a,{cleared:!0,populated:!0});e.exports=a;e.exports.EVENT_CLEARED="cleared";e.exports.EVENT_POPULATED="populated"}),null);
__d("MPlatformDialogPeopleTagger",["DOM","MFriendsTaggerReact","MPlatformDialogTagger","Stratcom","SubscriptionsHandler"],(function(a,b,c,d,e,f){var g="fb:og:people:",h=g+"tagger";a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f;f=a.call(this)||this;f.$MPlatformDialogPeopleTagger1=new(b("SubscriptionsHandler"))();f.$MPlatformDialogPeopleTagger2=new(b("MFriendsTaggerReact"))(d);f.$MPlatformDialogPeopleTagger3=c;f.init(f.$MPlatformDialogPeopleTagger3,f.$MPlatformDialogPeopleTagger2,h);f.$MPlatformDialogPeopleTagger1.addSubscriptions(f.$MPlatformDialogPeopleTagger2.listen("submit",f.$MPlatformDialogPeopleTagger4.bind(babelHelpers.assertThisInitialized(f))),f.$MPlatformDialogPeopleTagger2.listen("cancel",f.$MPlatformDialogPeopleTagger5.bind(babelHelpers.assertThisInitialized(f))),b("Stratcom").listen("click",h,f.$MPlatformDialogPeopleTagger6.bind(babelHelpers.assertThisInitialized(f))),b("Stratcom").listen("m:page:unload",null,f.$MPlatformDialogPeopleTagger7.bind(babelHelpers.assertThisInitialized(f))));d=e&&e.length?{friend_ids:e}:{};f.createInputs(d,null,g);f.$MPlatformDialogPeopleTagger8=[];return f}var d=c.prototype;d.$MPlatformDialogPeopleTagger4=function(a){!this.$MPlatformDialogPeopleTagger2.hasTokens()?b("Stratcom").invoke(b("MPlatformDialogTagger").EVENT_CLEARED,h):b("Stratcom").invoke(b("MPlatformDialogTagger").EVENT_POPULATED,h,a.tokens),this.$MPlatformDialogPeopleTagger9()};d.$MPlatformDialogPeopleTagger6=function(a){a.getNode("remove")&&(this.$MPlatformDialogPeopleTagger2.removeToken(a.getNode("token")),this.$MPlatformDialogPeopleTagger9())};d.$MPlatformDialogPeopleTagger9=function(){var a={};this.$MPlatformDialogPeopleTagger2.hasTokens()?a={friend_ids:Object.keys(this.$MPlatformDialogPeopleTagger2.getTokens())}:this.$MPlatformDialogPeopleTagger3.setSelected(!1);this.createInputs(a,null,g);this.$MPlatformDialogPeopleTagger8=this.$MPlatformDialogPeopleTagger2.getEntries().slice()};d.$MPlatformDialogPeopleTagger7=function(){this.$MPlatformDialogPeopleTagger1.release(),this.$MPlatformDialogPeopleTagger1=null,this.$MPlatformDialogPeopleTagger2&&this.$MPlatformDialogPeopleTagger2.getRoot()&&b("DOM").remove(this.$MPlatformDialogPeopleTagger2.getRoot())};d.$MPlatformDialogPeopleTagger5=function(){this.$MPlatformDialogPeopleTagger2.setEntries(this.$MPlatformDialogPeopleTagger8.slice())};return c}(b("MPlatformDialogTagger"));a.SIGIL=h;e.exports=a}),null);
__d("PrivacyOptionDisabledType",[],(function(a,b,c,d,e,f){a=Object.freeze({DISABLED_BY_AUDIENCE_LIMITATION:"disabled_by_audience_limitation",DISABLED_BY_PRIVATE_SHARING:"disabled_by_private_sharing"});f["default"]=a}),66);
__d("XWEMPrivateSharingCheckpointDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/private_sharing/checkpoint/",{source:{type:"Enum",enumType:1},is_modal:{type:"Bool",defaultValue:!1},privacy_option:{type:"Int"},should_show_dialog:{type:"Bool",defaultValue:!1}})}),null);
__d("MPrivacyComposerMenu",["cx","fbt","CSS","DOM","MComposerLogger","MCompositionConfigStore","MCompositionPrivacyStore","MCompositionUserActions","MLegacyDataStore","MModalDialog","MRequest","MViewport","PrivacyConst","PrivacyOptionDisabledType","Stratcom","SubscriptionsHandler","ThisControllerNoLongerExists","XPrivacyCustomEditController","XWEMPrivateSharingCheckpointDialogController","findTag"],(function(a,b,c,d,e,f,g,h,i){a=function(){function a(a,b,e,f){var g=this;this._addHeightConstraint=function(){g._removeHeightConstraint();var a=d("MViewport").getUseableHeight();g._heightConstraint=d("MViewport").addHeightConstraint(a)};this._root=c("findTag")(a);this._hiddenInput=d("DOM").find(this._root,"input");this._selectedOption=d("DOM").scry(this._root,"tr","checked")[0];this._stickyURI=b;this._stickyOption=this._selectedOption;this._enableCustomMenu=f;this._dontSaveSticky=!1;this._customLabel=e;this._listeners=new(c("SubscriptionsHandler"))();this._listeners.addSubscriptions(c("MCompositionPrivacyStore").addChangeListener(function(){return g._handlePrivacyUpdate()}));this._listeners.addSubscriptions(d("DOM").listen(this._root,"click","privacy-option",function(a){a=a.getNode("privacy-option");if(!g._enableCustomMenu||a!=g.getCustomOption()){g._selectOption(a);return}var b=c("Stratcom").listen("m:viewport:orientation-change",null,g._addHeightConstraint.bind(g));g._addHeightConstraint();a=c("MCompositionPrivacyStore").get("PRIVACY_FBID",null);var e=c("MCompositionConfigStore").get("postid",null);a=c("XPrivacyCustomEditController").getURIBuilder().setString("privacy_id",a).setString("post_id",e).getURI();d("MModalDialog").open(a.toString(),function(a){c("Stratcom").invoke("MPrivacyComposerMenu::custom",null,{visible:!1,instance:g,selector:g._root});d("MViewport").scrollToHeader();b.remove();g._removeHeightConstraint();if(!a.canceled){var e=a.payload.payload.value,f=d("DOM").scry(g._root,"tr","privacy-option"),h=!1;for(var i=0;i<f.length;i++)if(d("MLegacyDataStore").get(f[i]).value==e){g._selectOption(f[i],!0);h=!0;break}if(!h){g._updateCustomSelectedOption(a.payload.payload.description,e);i=g._getCustomSelectedOption();i&&g._selectOption(i,!0)}}});c("Stratcom").invoke("MPrivacyComposerMenu::custom",null,{visible:!0,instance:g,selector:g._root})}));this._listeners.addSubscriptions(c("Stratcom").listen("MStructuredComposer:reset",null,function(a){g._stickyCustomValue&&g._stickyCustomLabel&&g._updateCustomSelectedOption(g._stickyCustomLabel,g._stickyCustomValue)}));this._listeners.addSubscriptions(c("Stratcom").listen("MPrivacyDeferredSelector-loaded",null,function(a){a=a.getData();var b=d("DOM").find(g._root,"table","privacy-table");b.id==a.id&&(g._selectedOption=d("DOM").scry(g._root,"tr","checked")[0]);g._handlePrivacyUpdate()}));this._listeners.addSubscriptions(c("Stratcom").listen("MPrivacyComposerMenu:updatePrivacy",null,function(a){a=a.getData();g._selectOption(a.row,!1,a.log)}));d("MLegacyDataStore").set(this._root,{instance:this})}var b=a.prototype;b.setShowTagExpansion=function(a){var b=this._root;b&&(c("CSS").conditionClass(b,"_1oxi",a),c("CSS").conditionClass(b,"_3kaj",a))};b.getCustomOption=function(){return d("DOM").find(this._root,"tr","privacy-custom-option")};b._getCustomSelectedOption=function(){return d("DOM").scry(this._root,"tr","privacy-custom-selected-option")[0]};b.getSelectedValue=function(){return this._selectedOption!=null?d("MLegacyDataStore").get(this._selectedOption).value:null};b._getCustomLabel=function(){var a=this._getCustomSelectedOption();if(!a)return null;a=d("DOM").scry(a,"span","option-desc")[0];return a?a.textContent:null};b._getCustomValue=function(){var a=this._getCustomSelectedOption();return!a?null:d("MLegacyDataStore").get(a).value};b._getIsOptionDisabledByType=function(a){var b=Object.values(c("PrivacyOptionDisabledType"));for(var e=0;e<b.length;e++){var f=b[e],g=d("DOM").scry(this._root,"tr",f)[0];if(g==null)continue;g=d("MLegacyDataStore").get(g).value;if(g===a)return f}return null};b._selectOption=function(a,b,e){a=d("MLegacyDataStore").get(a).value;var f=this._getIsOptionDisabledByType(a);if(f=="disabled_by_audience_limitation"){var g=d("ThisControllerNoLongerExists").__DEADURI__("865meg312");d("MModalDialog").load(g.toString())}else if(f=="disabled_by_private_sharing"){g=c("XWEMPrivateSharingCheckpointDialogController").getURIBuilder().setBool("is_modal",!0).setBool("should_show_dialog",!0).setInt("privacy_option",a).getURI();d("MModalDialog").load(g.toString())}else{e=e!==void 0?e:!0;f=c("MCompositionPrivacyStore").get("NEVER_SAVE_STICKY",!1);g=this._getCustomLabel();var h=this._getCustomValue(),i={};i.PRIVACY_FBID=a;i.ALREADY_SAVED_STICKY=b;i.NEVER_SAVE_STICKY=f;i.CLOSE_DIALOG=!0;i.CUSTOM_LABEL=g;i.CUSTOM_OPTION=h;d("MCompositionUserActions").privacyUpdate(i)}e&&c("MComposerLogger").log("add_privacy",{privacy_setting:a})};b._updateCustomSelectedOption=function(a,b){var c=d("DOM").find(this._getCustomSelectedOption(),"span","option-desc");d("DOM").setContent(c,a);c=this._getCustomSelectedOption();if(c==null)return;d("MLegacyDataStore").set(c,{value:b});if(b){d("DOM").show(this._getCustomSelectedOption());a=d("DOM").find(this._getCustomSelectedOption(),"span","plus-label");d("DOM").setContent(a,this._getTagExpansionLabel(b))}};b._getTagExpansionLabel=function(a){try{var b;a=JSON.parse(a);b=(((b=a)!=null?b.allow:b)||[]).indexOf(c("PrivacyConst").CustomPrivacyTokens.FRIENDS)>=0;a=((a=a)!=null?(a=a.settings)!=null?a.no_tag_expansion:a:a)||0;return b&&a===0?i._("(\u0e41\u0e25\u0e30\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e19\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e16\u0e39\u0e01\u0e41\u0e17\u0e47\u0e01)"):i._("(\u0e41\u0e25\u0e30\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e16\u0e39\u0e01\u0e41\u0e17\u0e47\u0e01)")}catch(a){}return null};b._removeHeightConstraint=function(){this._heightConstraint&&(this._heightConstraint.release(),this._heightConstraint=null)};b._handlePrivacyUpdate=function(){!this._stickyCustomValue&&this._getCustomSelectedOption()&&(this._stickyCustomValue=this._getCustomValue(),this._stickyCustomLabel=this._getCustomLabel());var a=c("MCompositionPrivacyStore").get("PRIVACY_FBID",null),b=c("MCompositionPrivacyStore").get("ALREADY_SAVED_STICKY",!1),e=c("MCompositionPrivacyStore").get("NEVER_SAVE_STICKY",!1),f=c("MCompositionPrivacyStore").get("CLOSE_DIALOG",!1),g=c("MCompositionPrivacyStore").get("CUSTOM_LABEL"),h=c("MCompositionPrivacyStore").get("CUSTOM_OPTION");b!==void 0&&(this._dontSaveSticky=b);b=d("DOM").scry(this._root,"tr","privacy-option");a===null&&this._stickyOption!=null&&(a=d("MLegacyDataStore").get(this._stickyOption).value);var i=this._hiddenInput&&this._hiddenInput.value;f=f||i!=a;i=d("DOM").scry(document.body,"button","privacy-button")[0];if(a!==null&&f){f=null;for(var j=0;j<b.length;j++)d("MLegacyDataStore").get(b[j]).value==a&&(f=b[j]);this._getCustomSelectedOption()&&h!==null&&g!==null&&this._updateCustomSelectedOption(g,h);f||(f=this._getCustomSelectedOption());if(!f){i&&c("CSS").conditionShow(i,!1);return}this._hiddenInput&&(this._hiddenInput.value=a);this._selectedOption&&c("CSS").conditionClass(this._selectedOption,"checked",!1);this._selectedOption=f;c("CSS").conditionClass(f,"checked",!0);j=!!d("DOM").scry(f,"span","plus-label").length;b=d("DOM").scry(f,"i","small-icon");b.length==0?b=d("DOM").find(f,"i","icon"):b=b[0];g=b.outerHTML;h=d("DOM").find(f,"span","option-desc");a=this._hiddenInput&&this._hiddenInput.value;c("Stratcom").invoke("MPrivacyComposerMenu::change",null,{value:a,showPlus:j,iconHTML:g,optionLabel:h,instance:this});e||(this._stickyOption=this._selectedOption,this._stickyCustomValue=this._getCustomValue(),this._stickyCustomLabel=this._getCustomLabel(),!this._dontSaveSticky&&this._stickyURI&&new(c("MRequest"))(this._stickyURI).setData({privacyx:a}).send())}b=c("MCompositionConfigStore").get("disable_privacy",!1);i&&!b&&c("CSS").conditionShow(i,!0)};a.init=function(b,c,d,e){return new a(b,c,d,e)};a.getInstance=function(a){return a==null?null:d("MLegacyDataStore").get(a).instance};return a}();g["default"]=a}),98);
__d("MPrivacyComposerSelector",["cx","$","BanzaiLogger","CSS","DOM","HTML","MComposerLogger","MLegacyDataStore","MPlatformDialogPeopleTagger","MPlatformDialogTagger","MPrivacyComposerMenu","MViewport","Stratcom","Vector","ge","isEmpty"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a,b){var e=this;this._root=c("$")(a);this._button=d("DOM").scry(this._root,"button","privacy-button")[0];this._button||(this._button=d("DOM").find(this._root,"div","privacy-button"));this._buttonIcon=d("DOM").find(this._root,"div","privacy-button-icon");this._menu=d("DOM").find(this._root,"div","privacy-composer-menu");this._config=b;d("DOM").listen(this._root,"click","privacy-button",function(a){e.isOpen()?(e.hideMenu(),c("MComposerLogger").log("cancel_privacy")):(e.showMenu(),c("BanzaiLogger").log("MPrivacySelectorConsistencyLoggerConfig",{event:"render",logging_source:"mobile_composer_timeline"}),c("MComposerLogger").log("intent_privacy")),document&&document.activeElement&&document.activeElement.blur()});c("Stratcom").listen("MPrivacyComposerMenu::change",null,function(a){a=a.getData();if(a.instance==null||a.instance!=c("MPrivacyComposerMenu").getInstance(e._menu))return;if(e._config.updatebuttontext){var b=d("DOM").find(e._button,"span","button-text");d("DOM").setContent(b,a.optionLabel.cloneNode(!0))}b=d("DOM").find(e._button,"span","plus-label");a.showPlus?d("DOM").show(b):d("DOM").hide(b);a.iconHTML&&d("DOM").setContent(e._buttonIcon,new(c("HTML"))(a.iconHTML));e.hideMenu()});var f=c("Stratcom").listen(c("MPlatformDialogTagger").EVENT_POPULATED,c("MPlatformDialogPeopleTagger").SIGIL,function(a){return e._updateTagExpansion(a)}),g=c("Stratcom").listen(c("MPlatformDialogTagger").EVENT_CLEARED,c("MPlatformDialogPeopleTagger").SIGIL,function(a){return e._updateTagExpansion(a)});c("Stratcom").listen("m:page:unload",null,function(){f.remove(),g.remove(),c("Stratcom").removeCurrentListener()});this._root&&d("MLegacyDataStore").set(this._root,{instance:this})}var b=a.prototype;b._updateTagExpansion=function(a){a=a&&!c("isEmpty")(a.getData());this.setShowTagExpansion(!!a)};b.setShowTagExpansion=function(a){this._root&&c("CSS").conditionClass(this._root,"_27-k",a);var b=c("MPrivacyComposerMenu").getInstance(this._menu);b&&b.setShowTagExpansion(a)};b.getSelectedValue=function(){var b=c("MPrivacyComposerMenu").getInstance(this._menu);if(b)return b.getSelectedValue();else{b=c("ge")(a.getSavedCustomInputName(),this._root);return b&&b.value}};b.showMenu=function(){d("DOM").show(this._menu),c("Stratcom").invoke("MPrivacyComposerMenu::show",null,{selector:this._root}),this._heightConstraint=d("MViewport").addMinHeightConstraint(c("Vector").getDim(this._menu).y+c("Vector").getPos(this._menu).y)};b.hideMenu=function(){this.isOpen()&&(d("DOM").hide(this._menu),c("Stratcom").invoke("MPrivacyComposerMenu::hide",null,{selector:this._root}),this._heightConstraint&&this._heightConstraint.release())};b.isOpen=function(){var a=this._menu&&this._menu.style;return a!=null&&a.display!="none"};a.init=function(b,c){return new a(b,c)};a.getInstance=function(a){return d("MLegacyDataStore").get(a).instance};a.getSavedCustomInputName=function(){return"m_composer_privacy_selector_input"};return a}();g["default"]=a}),98);
__d("MImageFetchNotifier",["invariant","prefetchImage","setImmediateAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i={},j={},k={},l={};function m(a,b){if(!i[a])return;b=i[a].indexOf(b);i[a].splice(b,1);i[a].length===0&&(k[a].cancel(),delete i[a],delete k[a])}function n(a){j[a]=!0,i[a].forEach(function(a){return a()}),delete i[a],delete k[a]}function o(a){k[a]=c("prefetchImage")(a,function(){n(a)})}function a(a,b){l[a]=b}function p(a,b){if(j[a]===!0){var d=!0;c("setImmediateAcrossTransitions")(function(){d&&b()});return{remove:function(){d=!1}}}i[a]=i[a]||[];i[a].push(b);k[a]||o(a);return{remove:function(){m(a,b)}}}function b(a,b){var c=l[a];c!==null||h(0,1595,a);return p(c,b)}g.associateImageURLWithDOMID=a;g.notifyWhenFetched=p;g.notifyWhenFetchedForDOMID=b}),98);
__d("XDefaultPrivacyUpdateDismissalCountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/default_privacy/nux/dismiss/",{return_uri:{type:"String"}})}),null);
__d("XInlineComposerAudienceEducationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/audience_education/",{privacy_mutation_token:{type:"String"},new_post_param:{type:"String"},privacy_icon_style:{type:"String",defaultValue:"standard"},update_icon:{type:"Bool",defaultValue:!1},update_text:{type:"Bool",defaultValue:!1}})}),null);
__d("XWebGraphQLMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"},legacy_response_format:{type:"Bool",defaultValue:!1}})}),null);
__d("intlList",["fbt","invariant","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;a=i||b("react");var j={AND:"AND",NONE:"NONE",OR:"OR"},k={BULLET:"BULLET",COMMA:"COMMA",SEMICOLON:"SEMICOLON"};c=function(a,b,c){var d=a.length;if(d===0)return"";else if(d===1)return a[0];var e=a[d-1],f=a[0];for(var h=1;h<d-1;++h)switch(c){case k.SEMICOLON:f=g._("{previous items} {following items}",[g._param("previous items",f),g._param("following items",a[h])]);break;case k.BULLET:f=g._("{previous items} \u2022 {following items}",[g._param("previous items",f),g._param("following items",a[h])]);break;default:f=g._("{previous items}, {following items}",[g._param("previous items",f),g._param("following items",a[h])])}return l(f,e,b||j.AND,c||k.COMMA)};function l(a,b,c,d){switch(c){case j.AND:return g._("{list of items} \u0e41\u0e25\u0e30 {last item}",[g._param("list of items",a),g._param("last item",b)]);case j.OR:return g._("{list of items} \u0e2b\u0e23\u0e37\u0e2d {last item}",[g._param("list of items",a),g._param("last item",b)]);case j.NONE:switch(d){case k.SEMICOLON:return g._("{previous items} {last item}",[g._param("previous items",a),g._param("last item",b)]);case k.BULLET:return g._("{list of items} \u2022 {last item}",[g._param("list of items",a),g._param("last item",b)]);default:return g._("{list of items}, {last item}",[g._param("list of items",a),g._param("last item",b)])}default:h(0,568,c)}}c.DELIMITERS=k;c.CONJUNCTIONS=j;e.exports=c}),null);
__d("WebGraphQLLegacyHelper",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.controller,c=a.docID,d=a.queryID,e=a.variables;a=a.legacyResponseFormat;c!=d&&(c||d)!=null||h(0,5819,c,d);b=b.getURIBuilder();d?b.setFBID("query_id",d):b.setFBID("doc_id",c);a&&b.setBool("legacy_response_format",!0);e&&b.setString("variables",JSON.stringify(e));return b.getURI()}g.getURI=a}),98);