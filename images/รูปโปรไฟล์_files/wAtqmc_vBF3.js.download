if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MMessagesReadReceiptsDOM",["fbt","$","DOM","HTML","MDateString","MDynaTemplate","MMessageUtils","Stratcom"],(function(a,b,c,d,e,f,g){var h="\xb7";function a(){b("DOM").scry(b("$")("messageGroup"),"div","read-receipt").forEach(function(a){b("DOM").remove(a)}),b("DOM").scry(b("$")("messageGroup"),"span","read-receipt").forEach(function(a){var c=a.parentNode.childNodes;for(var d=0;d<c.length;d+=1)if(c[d]===a){d>0&&c[d-1]&&c[d-1].data&&c[d-1].data.trim()===h?b("DOM").remove(c[d-1]):d>1&&"getAttribute"in c[d-2]&&c[d-2].getAttribute("role")==="separator"&&(b("DOM").remove(c[d-1]),b("DOM").remove(c[d-2]),b("DOM").remove(c[d-3]));break}b("DOM").remove(a)})}function c(a,c,d,e){var f=b("DOM").scry(a.parentNode,"div","message-text").pop(),g=!1;f===a&&(g=!0);f=g?b("DOM").create("span"):b("DOM").create("div");b("Stratcom").addSigil(f,"read-receipt");var j=Object.keys(d);Object.keys(e.users_short_names).length<=2&&j.length==1?d=i(d[j[0]]):d=b("MMessageUtils").getSeenByParticipantsText(j,e.users_short_names,c.author,e.user);j=b("MDynaTemplate").renderToHtml("@MReadReceiptTextTemplate",{text:d});b("DOM").appendContent(f,new(b("HTML"))(j).getFragment().firstChild);if(g){c=a.parentNode;while(!b("Stratcom").hasSigil(c,"message-xhp"))c=c.parentNode;e=b("DOM").find(c,"div","action-list");b("DOM").appendContent(e,new(b("HTML"))(" "+h+" "));b("DOM").appendContent(e,f)}else b("DOM").appendContent(a,f)}function i(a){a=a*.001;a=b("MDateString").displayTime(a,{compact:!0,relative:!1});return g._("\u0e40\u0e2b\u0e47\u0e19\u0e40\u0e21\u0e37\u0e48\u0e2d {timestamp}",[g._param("timestamp",a)])}e.exports={clearAll:a,addNew:c}}),null);