if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MChat",["$","Bootloader","ChannelEventType","DOM","MChannelManager","MTouchChannelManager","Stratcom"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("MTouchChannelManager").initialize(),a.killDynatemplate?c("Stratcom").listen([d("ChannelEventType").MESSAGE,d("ChannelEventType").PAGES_MESSAGE],null,function(b){h(a,b),c("Stratcom").removeCurrentListener()}):c("Bootloader").loadModules(["MMessages"],function(b){var e;b=new b(a);(e=b)==null?void 0:e.handleModuleLoad();var f=[c("Stratcom").listen([d("ChannelEventType").MESSAGE,d("ChannelEventType").PAGES_MESSAGE],null,(e=b)==null?void 0:e.handleMessageReceived.bind(b)),c("Stratcom").listen("typ",null,(e=b)==null?void 0:e.handleUserTyping.bind(b)),c("Stratcom").listen(["m:page:render:complete","m:page:render:cache:complete","m:onload"],null,(e=b)==null?void 0:e.handlePageLoad.bind(b))];c("Stratcom").listen("m:page:unload",null,function(){b=null;for(var a=0;a<f.length;a++)f[a].remove();f=[];c("Stratcom").removeCurrentListener()})},"MChat"),a.pageID&&c("MChannelManager").subscribeIrisQueue(a.pageID.toString(),"0")}function h(a,b){c("Bootloader").loadModules(["MReactComponentRenderer","MMessageThread.react"],function(e,f){var g=d("DOM").create("div"),h={downloadLink:a.downloadLink,initialEvent:b,isCanonical:a.isCanonicalThread,otherUserFBID:a.messageOtherUserFBID,pageID:a.pageID,shouldParseEmoticons:a.parseEmoticons,threadFBID:a.messageThreadFBID,userProfileUris:a.usersProfileUri,userShortNames:a.usersShortNames};e(f,g,h);d("DOM").appendContent(c("$")("messageGroup"),g)},"MChat")}g.main=a}),98);
__d("NotificationPermalinkTimeSpentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744068");c=b("FalcoLoggerInternal").create("notification_permalink_time_spent",a);e.exports=c}),null);
__d("PageAdminRepliedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744097");c=b("FalcoLoggerInternal").create("page_admin_replied",a);e.exports=c}),null);
__d("MBNotifLoggingUtils",["NotificationPermalinkTimeSpentFalcoEvent","PageAdminRepliedFalcoEvent","URI"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.getQueryData();var b=String(a.notif_id),c=String(a.notif_m);a=String(a.notif_t);return a!=="page_message"&&a!=="page_message_reminder"||!Boolean(b)?null:{notif_id:b,notif_m:c,notif_t:a}}function a(a){var b;switch(a){case"photo":case"text_plus_photo":b="text_with_attachments";break;case"sticker":b="sticker_or_like";break;case"text":default:b="text_only";break}return b}function b(a){var b=c("URI").getRequestURI(),d=h(b);if(d==null)return;c("PageAdminRepliedFalcoEvent").log(function(){return{action_sub_type:a,notif_id:d.notif_id,notif_medium:d.notif_m,notif_type:d.notif_t}})}function d(a,b,d){d=d!=null?d:c("URI").getRequestURI();var e=h(d);if(e==null)return;c("NotificationPermalinkTimeSpentFalcoEvent").log(function(){return{duration_ms:Date.now()-b,exit_event:a,notif_id:e.notif_id,notif_type:e.notif_t}})}g._getNotifData=h;g.getAdminReplyType=a;g.logAdminReply=b;g.logNavTargetExit=d}),98);
__d("MessengerBusinessMessageSendRequestFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744006");c=b("FalcoLoggerInternal").create("messenger_business_message_send_request",a);e.exports=c}),null);
__d("WorkGoalTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:WorkGoalLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:WorkGoalLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:WorkGoalLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEnabled=function(a){this.$1.enabled=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setGoal=function(a){this.$1.goal=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={enabled:!0,event:!0,goal:!0,surface:!0};f["default"]=a}),66);
__d("MMessagesReplyComposer",["cx","fbt","CSS","CurrentUser","DOM","MBNotifLoggingUtils","MMessagesConfig","MMultiPhotoUploaderAttachmentState","MRequest","MessengerBizNavigationLoggingUtils","MessengerBusinessMessageSendRequestFalcoEvent","Stratcom","SubscriptionsHandler","URI","WorkGoalTypedLogger"],(function(a,b,c,d,e,f,g,h){var i,j="m-messaging-error-message",k="m-messaging-error-resend-btn",l=1e3;a=function(){"use strict";function a(a,c,d,e,f,g,h,j){var l=this;this.form=a;this.textbox=c;this.sendButton=d;this.likeButton=e;this.userID=b("CurrentUser").getID();this.threadID=f;this.defaultMessage=g;this.source=h;this.pageID=j;this.state={isFocused:!1,isTyping:!1,hasPhotos:!1};this.photosState=b("MMultiPhotoUploaderAttachmentState").getDefaultState();this.prevSendRequest=null;this.$1=(i||(i=b("URI"))).getRequestURI();this.$2=!1;this.$3=Date.now();this.pageListeners=new(b("SubscriptionsHandler"))();this.pageListeners.addSubscriptions(b("DOM").listen(this.textbox,"focus",null,this.$4.bind(this)),b("DOM").listen(this.textbox,"blur",null,this.$5.bind(this)),b("DOM").listen(this.textbox,["keyup","keydown","change","input"],null,this.$6.bind(this)),b("DOM").listen(this.sendButton,"click",null,this.$7.bind(this)),b("DOM").listen(this.likeButton,"click",null,this.$8.bind(this)),b("Stratcom").listen("click",[k],this.$9.bind(this)),b("Stratcom").listen("MMultiPhotoUploader:attachments:change",null,this.$10.bind(this)));b("Stratcom").listen("m:page:unload",null,function(){l.pageListeners.release(),b("Stratcom").removeCurrentListener(),l.$11()});this.$12();this.$13();b("CSS").removeClass(this.form,"_3ci_");g!==null&&(this.textbox.value=g,this.$6())}var c=a.prototype;c.$10=function(a){this.photosState=a.getData(),this.$14("hasPhotos",this.photosState[b("MMultiPhotoUploaderAttachmentState").UPLOADED]>0||this.photosState[b("MMultiPhotoUploaderAttachmentState").SENDING]>0),this.$13()};c.$4=function(){this.$14("isFocused",!0)};c.$5=function(){this.$14("isFocused",!1)};c.$6=function(){this.$14("isTyping",this.textbox.value!==""),this.$13()};c.$13=function(){var a=this.photosState[b("MMultiPhotoUploaderAttachmentState").SENDING]===0&&(!/^\s*$/.test(this.textbox.value)||this.photosState[b("MMultiPhotoUploaderAttachmentState").UPLOADED]>0);!a?this.sendButton.setAttribute("disabled",!0):this.sendButton.removeAttribute("disabled")};c.$15=function(){var a=this;this.likeButton.setAttribute("disabled",!0);setTimeout(function(){a.likeButton.removeAttribute("disabled")},l)};c.$14=function(a,b){this.state[a]=b,this.$12()};c.$12=function(){b("CSS").conditionClass(this.form,"_3ciz",this.state.isFocused||this.state.isTyping),b("CSS").conditionClass(this.form,"_3cj0",this.state.hasPhotos)};c.$9=function(){this.sendRequest(this.prevSendRequest.url,this.prevSendRequest.data),b("DOM").hide(b("DOM").find(document,"div",j))};c.$8=function(a){this.$16(a,!0)};c.$7=function(a){this.$16(a,!1)};c.$16=function(a,c){var d=this.form,e=b("DOM").convertFormToDictionary(d),f=d.action;this.textbox.value!==null&&this.$17(this.textbox.value);d.reset();this.$6();a&&a.prevent();c&&(e.sticker_id=369239263222822);this.sendRequest(f,e);this.$15()};c.$17=function(a){this.defaultMessage!==null&&b("CurrentUser").isWorkUser()&&this.source==="source:work:activation_card_general_group_chat"&&new(b("WorkGoalTypedLogger"))().setGoal("in_product_nux_card_general_chat_thread").setEvent("general_chat_send_message").addToExtraData("did_send_default_message",a===this.defaultMessage).log()};c.sendRequest=function(a,c){var d=this,e={start:function(a){b("DOM").hide(b("DOM").find(document,"div",j))},process:function(a){},error:function(a){b("DOM").show(b("DOM").find(document,"div",j))},fail:function(a){e.error(a)},postprocess:function(a){Boolean(d.pageID)&&d.$18(c),b("Stratcom").invoke("m:ajax:complete")}};this.prevSendRequest={data:c,url:a};a=this.$19(c,a,e);a.send()};c.$18=function(a){var c=this,d,e=Boolean(Object.keys(a).find(function(a){return a.startsWith("photo")}));d=Boolean((d=a)!=null?d.body:d);a=Boolean((a=a)!=null?a.sticker_id:a);var f=null,g=[];a?(f="sticker",g=["sticker"]):d&&e?(f="text_plus_photo",g=["photo","text"]):d?(f="text",g=["text"]):e&&(f="photo",g=["photo"]);a=b("CurrentUser").getAccountID();b("MessengerBizNavigationLoggingUtils").logToWebFunnel(this.pageID,a,"message_sent",{message_type:(d=f)!=null?d:""});b("MessengerBusinessMessageSendRequestFalcoEvent").log(function(){return{event_location:"prim__threadview",page_id:c.pageID,event_data:{template:g}}});b("MBNotifLoggingUtils").logAdminReply(b("MBNotifLoggingUtils").getAdminReplyType(f))};c.$11=function(){if(this.$2)return;b("MBNotifLoggingUtils").logNavTargetExit("thread",this.$3,this.$1);this.$2=!0};c.$19=function(a,c,d){a.action_time=Date.now();var e=b("DOM").find(document,"*","m-messaging-composer-container"),f="async_composer";c=new(b("MRequest"))(c);c.addData(a);c.setMethod("POST");b("MMessagesConfig").msgrRegion&&c.setRequestHeader("X-MSGR-Region",b("MMessagesConfig").msgrRegion);var g=f+"_saving";a=function(a){b("CSS").conditionClass(e,f,!a),b("CSS").conditionClass(e,g,a)};c.listen("start",a.bind(null,!0));c.listen("finally",a.bind(null,!1));for(var a in d)c.listen(a,d[a]);return c};a.handleSendError=function(){b("DOM").show(b("DOM").find(document,"div",j))};a.handleRecipientUnavailableError=function(){alert(h._("\u0e1a\u0e38\u0e04\u0e04\u0e25\u0e19\u0e35\u0e49\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e44\u0e14\u0e49\u0e43\u0e19\u0e02\u0e13\u0e30\u0e19\u0e35\u0e49"))};return a}();e.exports=a}),null);
__d("MSelectLink",["MJSEnvironment","MLegacyDataStore","MPageController","MRequest","Stratcom","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){a=b("MJSEnvironment").IS_APPLE_WEBKIT_IOS&&parseInt(b("MJSEnvironment").OS_VERSION,10)>=6?"blur":"change";b("Stratcom").listen(a,"select-link",function(a){var c=a.getNode("tag:select");a=b("MLegacyDataStore").get(a.getNode("select-link"));var d=a.method==="POST"?"POST":"GET";b("setTimeoutAcrossTransitions")(function(){var a=c.options[c.selectedIndex].getAttribute("value"),e=c.options[c.selectedIndex].getAttribute("title");if(e==="mrequest"){e=new(b("MRequest"))(a);e.setMethod(d).send()}else a&&b("MPageController").load(a,{replace:!0,method:d})},0)})}),null);