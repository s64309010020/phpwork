if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MSearchEntityModuleClickListener",["csx","DOM","Parent","Run","Stratcom","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=new(c("SubscriptionsHandler"))();b.addSubscriptions(d("DOM").listen(a.results_page,"click",null,function(b){b=b.getTarget();if(!b)return;b=d("Parent").bySelector(b,"[data-module-role]");if(b){b=b.getAttribute("data-module-role");if(b){b=a.entity_module_roles.indexOf(b)>-1;b&&c("Stratcom").invoke("m:search:refresh-nullstate-with-delay",null,{})}}}));d("Run").onLeave(function(){b.release()})}g.init=a}),98);
__d("MGraphSearchResultsLogger",["DataAttributeUtils","FBJSON","MLegacyDataStore","MLynx","MarauderLogger","Parent","Stratcom"],(function(a,b,c,d,e,f){"use strict";var g="m-graph-search-result-page-click-target",h="m-graph-search-user-result-footer",i="m-graph-search-story-result",j="m-graph-search-result-page-action-button",k="m-graph-search-result-page-message-button",l="m-graph-search-result-page-friend-button",m="m-graph-search-result-page-event-button",n="m-graph-search-result-page-group-button",o="keyword-search-collapsible-header-button",p="m-graph-search-result-page-live-update-pill",q="m-graph-search-result-page-dym-link",r,s,t;function a(a,c){if(!a)return;r=a;s=c;if(t!=null)return;t=!0;b("Stratcom").listen("click",g,y);b("Stratcom").listen("click",h,w);b("Stratcom").listen("click",i,v);b("Stratcom").listenCapture("click",j,u);b("Stratcom").listenCapture("click",p,z);b("Stratcom").listenCapture("click",q,A)}function u(a){var c=x(a.getTarget(),j);if(!c)return;var d=babelHelpers["extends"]({},b("MLegacyDataStore").get(c));b("Stratcom").hasSigil(a.getTarget(),"m-isfan-markup")?d.click_type="unlike":b("Stratcom").hasSigil(a.getTarget(),"m-notfan-markup")?d.click_type="like":b("Stratcom").hasSigil(c,k)?d.click_type="message":b("Stratcom").hasSigil(c,l)?d.click_type="add_friend":b("Stratcom").hasSigil(c,m)?d.click_type="event":b("Stratcom").hasSigil(c,n)&&(d.click_type="group");C(c,d);B("click",d)}function v(a){var c=x(a.getTarget(),i);if(!c)return;var d=b("Parent").byTag(a.getTarget(),"a");d||(d=a.getTarget());a=babelHelpers["extends"]({},b("MLegacyDataStore").get(c));a.destination=d.href;a.session_id=r;b("Stratcom").hasSigil(d,"marauder-unlike")||b("Stratcom").hasSigil(d,"unlike")?a.click_type="unlike":b("Stratcom").hasSigil(d,"marauder-like")||b("Stratcom").hasSigil(d,"like")?a.click_type="like":b("Stratcom").hasSigil(d,"ufiCommentLink")?a.click_type="comment":b("Stratcom").hasSigil(d,"share-popup")?a.click_type="share":b("Stratcom").hasSigil(d,o)?a.click_type="story_header_expand":b("Stratcom").hasSigil(d,"m-video-play-button")?a.click_type="video_play":(b("MLynx").isShimmedLink(d)||d.getAttribute("target")==="_blank")&&(a.click_type="outbound_link");C(c,a);B("click",a)}function w(a){var c=x(a.getTarget(),h);if(!c)return;var d=babelHelpers["extends"]({},b("MLegacyDataStore").get(c));d.destination=b("MLegacyDataStore").get(a.getTarget()).context_item_url;C(c,d);B("click",d)}function x(a,c){while(a){if(b("Stratcom").hasSigil(a,c))return a;a=a.parentNode}return null}function y(a){a=x(a.getTarget(),g);if(!a)return;var c=babelHelpers["extends"]({},b("MLegacyDataStore").get(a));C(a,c);B("click",c)}function z(a){a=x(a.getTarget(),p);if(!a)return;var c=babelHelpers["extends"]({},b("MLegacyDataStore").get(a));c.click_type="live_update_pill";C(a,c);B("click",c)}function A(a){a=x(a.getTarget(),q);if(!a)return;var c=babelHelpers["extends"]({},b("MLegacyDataStore").get(a));c.click_type="dym_link";C(a,c);B("click",c)}function B(a,c){c.session_id=r,c.unique_session_id=s,b("MarauderLogger").log(a,"graph_search_result_page",c)}function C(a,c){a=b("DataAttributeUtils").getParentByAttributeOrDataStoreKey(a,"data-xt","data-xt");if(!a)return;a=b("DataAttributeUtils").getDataAttribute(a,"data-xt");if(a!=null){a=a.match(/\{(.*)\}$/g);if(a!=null&&a.length===1){a=b("FBJSON").parse(a[0]);c.module_id=a.module_id;c.module_result_position=a.module_result_position;c.module_role=a.module_role;c.result_creation_time=a.result_creation_time;c.xt_result_id=a.result_id;c.xt_click_type=a.click_type;c.sid=a.sid;a.dym_confidence!=null&&(c.dym_confidence=a.dym_confidence,c.dym_query=a.dym_query,c.dym_correction=a.dym_correction,c.dym_clicked=a.dym_clicked)}}}e.exports=a}),null);